import{a as v,n}from"./BIGBsnYa.js";import{m as t}from"./Dp9Ai0YM.js";const j=()=>{const e=v(),a=t(()=>e.user),i=t(()=>e.isAuthenticated),c=t(()=>e.isLoggedIn),u=t(()=>e.loading),l=t(()=>e.token),g=t(()=>e.userShopId),p=t(()=>e.userEmail),d=t(()=>e.userName),m=t(()=>e.userInitials),f=t(()=>e.planDetails),h=t(()=>e.currentPlan),w=t(()=>e.isPaidUser),y=t(()=>e.hasActiveAccess),A=t(()=>e.trialExpired),I=async s=>{const r=await e.login(s);return r.success&&await n("/"),r},P=async s=>{const r={email:s.email,password:s.password,name:`${s.firstName} ${s.lastName}`,firstName:s.firstName,lastName:s.lastName,company:s.company,platform:s.platform,newsletter:s.newsletter};return await e.register(r)},b=async()=>{await e.logout(),await n("/login")},N=async s=>await e.resetPassword(s),S=async s=>await e.updateProfile(s),k=async()=>await e.restoreSession(),O=async()=>{const s=await e.refreshToken();return s.success||await n("/login"),s},U=async s=>await e.fetchCompleteUserDataViaAPI(s,e.token||""),D=async()=>e.isLoggedIn?!0:(await n("/login"),!1),T=async()=>e.isLoggedIn?(await n("/"),!1):!0,E=s=>!0,L=s=>s?s.split(" ").map(r=>r[0]).join("").toUpperCase().slice(0,2):e.userInitials||"U",o=()=>e.user?.shop?!e.user.shop.onboarding_completed:!0;return{user:a,isAuthenticated:i,isLoggedIn:c,loading:u,token:l,userShopId:g,userEmail:p,userName:d,userInitials:m,planDetails:f,currentPlan:h,isPaidUser:w,hasActiveAccess:y,trialExpired:A,login:I,register:P,logout:b,resetPassword:N,updateProfile:S,restoreSession:k,refreshToken:O,fetchCompleteUserData:U,requireAuth:D,requireGuest:T,hasPermission:E,getInitials:L,needsOnboarding:o,checkOnboardingStatus:async()=>e.isAuthenticated?o()?{needsOnboarding:!0,redirectTo:"/onboarding"}:{needsOnboarding:!1}:{needsOnboarding:!1,redirectTo:"/login"}}};export{j as u};
