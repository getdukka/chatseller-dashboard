const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CP6Adv8A.js","./DQgDrh1u.js"])))=>i.map(i=>d[i]);
import{_ as fe}from"./DAvq3nrc.js";import{_ as Se}from"./BkTrhf9-.js";import{d as x,m as P,C as Q,l as $e,I as Ve,J as Be,E as c,H as e,M as _,u as r,a0 as p,Q as h,U as u,O as ce,N as de,F as ee,P as te,a1 as ze,a2 as se,a3 as oe,a7 as Te,v as he,G as d,W as Ue}from"./DQgDrh1u.js";import{a as xe,d as De,n as re,u as qe,g as Re}from"./Cm96zG12.js";import{_ as He}from"./DlAUqK2U.js";const Ne=()=>{const j=xe(),b=De(),v=x([]),V=x(!1),g=x(!1),y=x(null),k=P(()=>j.planDetails||{name:"Free",agentLimit:1,knowledgeBaseLimit:1,features:[],isActive:!0,isTrial:!0,trialDaysLeft:7,trialEndDate:null,hasExpired:!1}),m=P(()=>j.user?.shop?.subscription_plan||"free"),L=P(()=>{const t=m.value;return t==="starter"||t==="pro"||t==="professional"||t==="enterprise"}),i=P(()=>k.value.isActive&&!k.value.hasExpired),C=P(()=>m.value==="free"&&k.value.hasExpired),H=P(()=>C.value?[]:v.value.filter(t=>t.isActive)),B=P(()=>{if(C.value)return!1;const t=k.value.agentLimit;return t===-1||v.value.length<t}),W=P(()=>{const t=k.value.agentLimit;return t!==-1&&v.value.length>=t}),ne=P(()=>i.value),le=P(()=>i.value),z=()=>{if(!j.token)throw console.error("‚ùå [useAgents] Token manquant - redirection vers login"),re("/login"),new Error("üîê Session expir√©e. Redirection vers la connexion...");return{Authorization:`Bearer ${j.token}`,"Content-Type":"application/json"}},T=(t,l)=>{console.error("‚ùå [useAgents] API Error:",t);let a=l;return t.status===401||t.statusCode===401?(j.clearAuth(),a="üîê Session expir√©e. Veuillez vous reconnecter.",re("/login")):t.status===403||t.statusCode===403?a="üö´ Acc√®s refus√©. V√©rifiez vos permissions ou votre plan.":t.data?.error&&typeof t.data.error=="string"?a=t.data.error:t.message&&typeof t.message=="string"?a=t.message:t.statusText&&typeof t.statusText=="string"&&(a=`Erreur ${t.status||"API"}: ${t.statusText}`),y.value=a,{success:!1,error:a}},U=async()=>{try{console.log("üîç [useAgents] Test API URL:",b.public.apiBaseUrl);const t=b.public.apiBaseUrl||"http://localhost:3001";console.log("üîç [useAgents] URL finale utilis√©e:",t);const l=await $fetch("/health",{baseURL:t,timeout:5e3});return console.log("‚úÖ [useAgents] R√©ponse health check:",l),l?.status==="ok"?(console.log("‚úÖ [useAgents] API disponible:",t),!0):(console.warn("‚ö†Ô∏è [useAgents] API r√©pond mais status incorrect:",l),!1)}catch(t){throw console.error("‚ùå [useAgents] API indisponible:",t),console.error("‚ùå [useAgents] URL test√©e:",b.public.apiBaseUrl),console.error("‚ùå [useAgents] Erreur d√©tails:",t.message),new Error(`
üö® Impossible de contacter l'API ChatSeller

URL test√©e: ${b.public.apiBaseUrl||"NON CONFIGUR√âE"}
Erreur: ${t.message}

Solutions possibles:
1. V√©rifiez que votre serveur API tourne sur http://localhost:3001
2. V√©rifiez la variable NUXT_PUBLIC_API_BASE_URL dans votre .env
3. Red√©marrez le serveur Dashboard apr√®s modification du .env
    `)}},K=async()=>{V.value=!0,y.value=null;try{console.log("üîç [useAgents] === D√âBUT R√âCUP√âRATION AGENTS ==="),console.log("üîç [useAgents] Config API URL:",b.public.apiBaseUrl),console.log("üîç [useAgents] Token pr√©sent:",!!j.token),await U();const t=b.public.apiBaseUrl||"http://localhost:3001";console.log("üîç [useAgents] Appel API vers:",`${t}/api/v1/agents`);const l=await $fetch("/api/v1/agents",{baseURL:t,headers:z(),timeout:1e4});if(console.log("üì¶ [useAgents] R√©ponse API compl√®te:",l),l.success&&Array.isArray(l.data)){v.value=l.data,console.log(`‚úÖ [useAgents] ${l.data.length} agents r√©cup√©r√©s depuis l'API`);const a=k.value.agentLimit;return console.log(`üìä [useAgents] Plan ${k.value.name}: ${v.value.length}/${a===-1?"‚àû":a} agents`),{success:!0,data:l.data}}else throw console.error("‚ùå [useAgents] R√©ponse API invalide:",l),new Error(l.error||"R√©ponse API invalide - format incorrect")}catch(t){return console.error("‚ùå [useAgents] Erreur compl√®te:",t),console.error("‚ùå [useAgents] Stack trace:",t.stack),T(t,"Erreur lors de la r√©cup√©ration des agents")}finally{V.value=!1}},ae=async t=>{g.value=!0,y.value=null;try{if(console.log("üèóÔ∏è [useAgents] Cr√©ation agent via API pure:",t.name),!t.name?.trim())throw new Error("Le nom de l'agent est requis");if(!t.welcomeMessage?.trim())throw new Error("Le message d'accueil est requis");if(!B.value){const A=k.value.agentLimit;throw new Error(`‚ùå Limite de votre plan atteinte (${A} agent${A>1?"s":""} maximum). Passez au plan sup√©rieur pour cr√©er plus d'agents.`)}await U();const l={name:t.name.trim(),title:t.title?.trim()||void 0,type:t.type,personality:t.personality,description:t.description?.trim()||null,welcomeMessage:t.welcomeMessage.trim(),fallbackMessage:t.fallbackMessage?.trim()||null,avatar:t.avatar||null,isActive:t.isActive??!0,config:t.config||{},shopId:j.userShopId||j.user?.id};console.log("üì§ [useAgents] Payload envoy√©:",l);const a=await $fetch("/api/v1/agents",{method:"POST",baseURL:b.public.apiBaseUrl,headers:z(),body:l});if(console.log("üì¶ [useAgents] R√©ponse cr√©ation:",a),a.success&&a.data)return v.value.unshift(a.data),console.log(`‚úÖ Agent cr√©√© avec succ√®s: ${a.data.id}`),{success:!0,data:a.data};throw new Error(a.error||"Erreur lors de la cr√©ation de l'agent")}catch(l){return T(l,"Erreur lors de la cr√©ation de l'agent")}finally{g.value=!1}},X=async(t,l)=>{g.value=!0,y.value=null;try{if(console.log("üìù [useAgents] Modification agent via API pure:",t),!t)throw new Error("ID agent requis pour la modification");await U();const a=await $fetch(`/api/v1/agents/${t}`,{method:"PUT",baseURL:b.public.apiBaseUrl,headers:z(),body:l});if(a.success&&a.data){const A=v.value.findIndex(F=>F.id===t);return A!==-1&&(v.value[A]={...v.value[A],...a.data}),console.log(`‚úÖ Agent modifi√© avec succ√®s: ${t}`),{success:!0,data:a.data}}else throw new Error(a.error||"Erreur lors de la modification")}catch(a){return T(a,"Erreur lors de la modification de l'agent")}finally{g.value=!1}},ie=async t=>{g.value=!0,y.value=null;try{if(console.log("üóëÔ∏è [useAgents] Suppression agent via API pure:",t),!t)throw new Error("ID agent requis pour la suppression");await U();const l=await $fetch(`/api/v1/agents/${t}`,{method:"DELETE",baseURL:b.public.apiBaseUrl,headers:z()});if(l.success)return v.value=v.value.filter(a=>a.id!==t),console.log(`‚úÖ Agent supprim√© avec succ√®s: ${t}`),{success:!0};throw new Error(l.error||"Erreur lors de la suppression")}catch(l){return T(l,"Erreur lors de la suppression de l'agent")}finally{g.value=!1}},Y=async(t,l)=>{g.value=!0,y.value=null;try{console.log(`üîÑ [useAgents] ${l?"Activation":"D√©sactivation"} agent via API pure:`,t),await U();const a=await $fetch(`/api/v1/agents/${t}/toggle`,{method:"PATCH",baseURL:b.public.apiBaseUrl,headers:z(),body:{isActive:l}});if(a.success){const A=v.value.findIndex(F=>F.id===t);return A!==-1&&(v.value[A].isActive=l,v.value[A].updatedAt=new Date().toISOString()),console.log(`‚úÖ Statut modifi√©: ${t} -> ${l?"actif":"inactif"}`),{success:!0}}else throw new Error(a.error||"Erreur lors de la modification du statut")}catch(a){return T(a,"Erreur lors de la modification du statut")}finally{g.value=!1}},N=async t=>{g.value=!0,y.value=null;try{if(console.log("üìã [useAgents] Duplication agent via API pure:",t),!B.value){const a=k.value.agentLimit;throw new Error(`‚ùå Limite de votre plan atteinte (${a} agent${a>1?"s":""} maximum). Impossible de dupliquer.`)}await U();const l=await $fetch(`/api/v1/agents/${t}/duplicate`,{method:"POST",baseURL:b.public.apiBaseUrl,headers:z()});if(l.success&&l.data)return v.value.unshift(l.data),console.log(`‚úÖ Agent dupliqu√© avec succ√®s: ${l.data.id}`),{success:!0,data:l.data};throw new Error(l.error||"Erreur lors de la duplication")}catch(l){return T(l,"Erreur lors de la duplication de l'agent")}finally{g.value=!1}},E=t=>v.value.find(l=>l.id===t)||null,M=t=>({general:"Vendeur g√©n√©raliste",product_specialist:"Sp√©cialiste produit",support:"Support & SAV",upsell:"Upsell & Cross-sell"})[t]||t,O=t=>({general:"Conseiller commercial",product_specialist:"Sp√©cialiste produit",support:"Conseiller support",upsell:"Conseiller premium"})[t]||"Assistant commercial",D=t=>({professional:"Professionnel",friendly:"Amical",expert:"Expert technique",casual:"D√©contract√©"})[t]||t,R=t=>{const l={general:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",product_specialist:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4",support:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z",upsell:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"};return l[t]||l.general},I=t=>({general:"bg-blue-500",product_specialist:"bg-green-500",support:"bg-orange-500",upsell:"bg-purple-500"})[t]||"bg-blue-500",S=t=>C.value?"bg-red-100 text-red-800":t?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",q=()=>{y.value=null},$=async()=>{try{console.log("üîç [useAgents] Test connexion API...");const t=await $fetch("/health",{baseURL:b.public.apiBaseUrl,timeout:5e3});return console.log("‚úÖ [useAgents] API accessible:",t),{success:!0,data:t}}catch(t){return console.error("‚ùå [useAgents] API inaccessible:",t),{success:!1,error:t.message||"API inaccessible"}}};return{agents:Q(v),loading:Q(V),saving:Q(g),error:Q(y),planDetails:Q(k),subscriptionPlan:m,isPaidUser:L,hasActiveAccess:i,trialExpired:C,canConfigureAgents:ne,canTestAgents:le,activeAgents:H,canCreateAgent:B,planLimitReached:W,fetchAgents:K,createAgent:ae,updateAgent:X,deleteAgent:ie,toggleAgentStatus:Y,duplicateAgent:N,testApiConnection:$,getAgent:E,getTypeLabel:M,getDefaultTitle:O,getPersonalityLabel:D,getAgentIcon:R,getAvatarClass:I,getStatusBadgeClass:S,clearError:q}},Oe={class:"min-h-screen bg-gray-50"},Fe={class:"bg-white shadow-sm border-b border-gray-200"},Je={class:"px-8 py-6"},Ge={class:"flex items-center justify-between"},Qe={class:"flex items-center space-x-4"},We=["disabled"],Ke=["disabled","title"],Xe={class:"mx-8 mt-4 mb-6"},Ye={key:0,class:"bg-gradient-to-r from-red-600 to-red-800 rounded-xl shadow-lg overflow-hidden"},Ze={class:"px-8 py-6 text-white relative"},et={class:"flex items-center justify-between"},tt={class:"flex flex-wrap gap-3"},st={key:1,class:"bg-gradient-to-r from-blue-700 to-purple-500 rounded-xl shadow-lg overflow-hidden"},ot={class:"px-8 py-6 text-white relative"},rt={class:"flex items-center justify-between"},nt={class:"flex flex-wrap gap-3"},lt={key:2,class:"bg-gradient-to-r from-green-600 to-green-800 rounded-xl shadow-lg overflow-hidden"},at={class:"px-8 py-6 text-white relative"},it={class:"flex items-center justify-between"},ut={class:"text-green-100 text-base mb-4"},ct={class:"flex flex-wrap gap-3"},dt={class:"hidden lg:block"},pt={class:"w-20 h-20 bg-white bg-opacity-10 rounded-full flex items-center justify-center backdrop-blur-sm"},vt={class:"text-2xl font-bold"},mt={key:0,class:"p-4 bg-red-50 border-l-4 border-red-400 mx-8 mt-4 rounded-r-lg"},gt={class:"flex items-center justify-between"},ft={class:"flex"},ht={class:"text-red-700 text-sm"},xt={class:"p-8"},bt={key:0,class:"text-center py-16"},wt={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},yt={class:"flex items-center justify-between mb-4"},kt={class:"flex items-center space-x-3"},At={class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_t=["d"],Ct={class:"text-lg font-semibold text-gray-900"},Mt={class:"text-sm text-gray-500"},Et={class:"flex items-center space-x-2"},It={class:"dropdown relative"},Pt=["onClick","disabled"],jt={key:0,class:"dropdown-menu"},Lt=["onClick"],St=["onClick","disabled"],$t=["onClick"],Vt=["onClick"],Bt={class:"text-sm text-gray-600 mb-4 line-clamp-2"},zt={key:0,class:"absolute inset-0 bg-gray-900 bg-opacity-50 rounded-xl flex items-center justify-center"},Tt={class:"stat-item"},Ut={class:"stat-value"},Dt={class:"stat-item"},qt={class:"stat-value"},Rt={class:"flex items-center space-x-2"},Ht=["onClick","disabled","title"],Nt=["onClick","disabled","title"],Ot={key:2,class:"text-center py-16"},Ft={class:"mt-4 text-xl font-medium text-gray-900"},Jt={class:"mt-2 text-gray-500 max-w-md mx-auto"},Gt={class:"mt-8"},Qt=["disabled"],Wt={class:"modal-content modal-large"},Kt={class:"modal-header"},Xt={class:"modal-title"},Yt={class:"modal-body"},Zt={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6"},es={class:"flex items-start space-x-3"},ts={key:0,class:"text-xs text-blue-600 mt-2"},ss={class:"space-y-6"},os={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},rs=["onClick"],ns={class:"flex items-start space-x-3"},ls={class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},as=["d"],is={class:"flex-1"},us={class:"font-medium text-gray-900"},cs={class:"text-xs text-gray-500 mt-1"},ds=["placeholder"],ps={class:"text-xs text-gray-500 mt-1"},vs={class:"grid grid-cols-2 gap-3"},ms=["onClick"],gs={class:"flex items-center space-x-2"},fs={class:"text-lg"},hs={class:"font-medium text-sm"},xs={class:"text-xs text-gray-500"},bs={class:"relative"},ws=["placeholder"],ys=["disabled"],ks={key:0,class:"w-3 h-3 animate-spin mr-1 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},As={key:1,class:"w-3 h-3 mr-1 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_s=["placeholder"],Cs={key:0,class:"bg-gray-50 rounded-lg p-4"},Ms={class:"bg-white border rounded-lg p-4 max-w-sm"},Es={class:"flex items-start space-x-3"},Is={class:"text-white font-medium text-sm"},Ps={class:"flex-1"},js={class:"font-medium text-gray-900"},Ls={class:"text-sm text-gray-500"},Ss={class:"mt-2 text-sm text-gray-700 bg-gray-100 rounded-lg p-2"},$s={class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},Vs={class:"modal-footer"},Bs=["disabled"],zs={key:0,class:"w-4 h-4 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ts={key:2,class:"fixed inset-0 z-50 overflow-y-auto bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4"},Us={class:"bg-white rounded-xl shadow-xl max-w-md w-full h-96 flex flex-col"},Ds={class:"flex items-center justify-between p-4 border-b border-gray-200"},qs={class:"text-lg font-semibold text-gray-900"},Rs={class:"space-y-3"},Hs={class:"text-white text-sm font-medium"},Ns={class:"text-sm text-gray-800"},Os={key:0,class:"flex items-center mt-2"},Fs={class:"p-4 border-t border-gray-200"},Js={class:"flex space-x-2"},Gs=["disabled"],Qs=["disabled"],Ws={class:"text-xs text-gray-500 mt-2"},Ks=$e({__name:"vendeurs-ia",setup(j){const b=xe(),v=Re(),{agents:V,loading:g,saving:y,error:k,planDetails:m,subscriptionPlan:L,trialExpired:i,canCreateAgent:C,canConfigureAgents:H,canTestAgents:B,fetchAgents:W,createAgent:ne,updateAgent:le,deleteAgent:z,toggleAgentStatus:T,duplicateAgent:U,getTypeLabel:K,getAgentIcon:ae,getAvatarClass:X,getStatusBadgeClass:ie,clearError:Y}=Ne(),N=x(!1),E=x(null),M=x(null),O=x(!1),D=x(null),R=x(!1),I=x([]),S=x(""),q=x(!1),$=x(),t=x({name:"",type:"general",personality:"professional",description:"",welcomeMessage:"",fallbackMessage:"",isActive:!0}),l=x([{value:"general",label:"Vendeur G√©n√©raliste",description:"Polyvalent, adapt√© √† tous types de produits",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",color:"bg-blue-500"},{value:"product_specialist",label:"Sp√©cialiste Produit",description:"Expert technique, recommandations pr√©cises",icon:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z",color:"bg-green-500"},{value:"support",label:"Support & SAV",description:"R√©sout les probl√®mes, rassure les clients",icon:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",color:"bg-orange-500"},{value:"upsell",label:"Upsell & Cross-sell",description:"Optimise le panier, propose des compl√©ments",icon:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6",color:"bg-purple-500"}]),a=x([{value:"professional",label:"Professionnel",description:"Formel, expert",emoji:"üíº"},{value:"friendly",label:"Amical",description:"Chaleureux, accessible",emoji:"üòä"},{value:"expert",label:"Expert technique",description:"Tr√®s technique, pr√©cis",emoji:"üîß"},{value:"casual",label:"D√©contract√©",description:"Cool, moderne",emoji:"üòé"}]),A=()=>({general:"Ex: Assistant Commercial Sophie",product_specialist:"Ex: Expert Tech Marc",support:"Ex: Support Client Julie",upsell:"Ex: Conseiller Premium Lisa"})[t.value.type]||"Ex: Votre Vendeur IA",F=()=>({general:"Sophie, Marc, Assistant Vente",product_specialist:"Expert Tech, Conseiller Pro, Sp√©cialiste",support:"Support Client, Aide Premium, Assistant SAV",upsell:"Conseiller Plus, Premium Assistant, VIP Support"})[t.value.type]||"Sophie, Marc, Lisa",pe=()=>({general:"Vendeur IA polyvalent capable d'accompagner les clients dans tous leurs achats. Expertise transversale sur l'ensemble du catalogue produits.",product_specialist:"Expert technique sp√©cialis√© dans [votre secteur]. Ma√Ætrise parfaite des sp√©cifications produits et des besoins clients avanc√©s.",support:"Sp√©cialiste support et service apr√®s-vente. R√©sout les probl√®mes clients et transforme les objections en opportunit√©s de vente.",upsell:"Expert en optimisation panier et ventes additionnelles. Identifie les besoins compl√©mentaires pour maximiser la valeur client."})[t.value.type]||"D√©crivez le r√¥le de votre vendeur IA...",J=()=>{const o=t.value.personality,s=t.value.name||"Votre conseiller";return{professional:`Bonjour, je suis ${s}. Comment puis-je vous accompagner dans votre achat aujourd'hui ?`,friendly:`Salut ! üëã Je suis ${s}, votre conseiller. Une question sur nos produits ?`,expert:`Bonjour, ${s} √† votre service. Je suis l√† pour vous guider techniquement. Que recherchez-vous ?`,casual:`Hey ! C'est ${s} üòä Besoin d'un coup de main pour choisir ?`}[o]||`Bonjour ! Je suis ${s}. Comment puis-je vous aider ?`},be=async()=>{await W()},ve=()=>{if(i.value){alert(`‚ùå Votre essai gratuit de 7 jours est termin√©.

Passez au plan Starter (14‚Ç¨/mois) pour continuer √† utiliser ChatSeller et cr√©er vos agents IA.`),v.push("/billing");return}if(!C.value){const o=m.value.agentLimit;alert(`‚ùå Plan ${L.value} limit√© √† ${o} agent(s).

Passez au plan sup√©rieur pour cr√©er plus d'agents IA.`),v.push("/billing");return}N.value=!0,t.value={name:"",type:"general",personality:"professional",description:"",welcomeMessage:"",fallbackMessage:"",isActive:!0}},we=o=>{t.value.type=o,t.value.description||(t.value.description=pe()),t.value.welcomeMessage||(t.value.welcomeMessage=J())},ye=o=>{t.value.personality=o,t.value.welcomeMessage=J()},ke=()=>{(t.value.welcomeMessage===""||t.value.welcomeMessage?.includes("Votre conseiller"))&&(t.value.welcomeMessage=J())},Ae=async()=>{if(!(!t.value.name||!t.value.type)){R.value=!0;try{await new Promise(n=>setTimeout(n,1500));const o={general:[`${t.value.name} est votre conseiller commercial polyvalent, expert dans l'accompagnement personnalis√© de chaque client. Sp√©cialis√© dans la d√©couverte des besoins et la recommandation de solutions adapt√©es.`,`Vendeur IA exp√©riment√© et empathique, ${t.value.name} ma√Ætrise l'art de la vente consultative. Capable de s'adapter √† tous profils clients pour maximiser satisfaction et conversion.`],product_specialist:[`${t.value.name} est votre expert technique de r√©f√©rence. Ma√Ætrise approfondie des sp√©cifications produits et capacit√© unique √† traduire les besoins techniques en solutions concr√®tes.`],support:[`${t.value.name} est votre sp√©cialiste support et relation client. Excellence dans la r√©solution de probl√®mes et transformation des difficult√©s en opportunit√©s commerciales.`],upsell:[`${t.value.name} est votre expert en optimisation de panier et ventes additionnelles. Identifie intuitivement les besoins compl√©mentaires pour maximiser la valeur client.`]},s=o[t.value.type]||o.general,w=s[Math.floor(Math.random()*s.length)];t.value.description=w}catch(o){console.error("Erreur g√©n√©ration description:",o)}finally{R.value=!1}}},_e=o=>{i.value||(M.value=M.value===o?null:o)},Ce=o=>{if(i.value){alert("‚ùå Votre essai gratuit est termin√©. Passez au plan Starter pour modifier vos agents.");return}E.value=o,t.value={name:o.name,type:o.type,personality:o.personality,description:o.description||"",welcomeMessage:o.welcomeMessage||"",fallbackMessage:o.fallbackMessage||"",isActive:o.isActive},M.value=null},Me=async o=>{if(i.value){alert("‚ùå Votre essai gratuit est termin√©. Passez au plan Starter pour dupliquer vos agents.");return}if(!C.value){const w=m.value.agentLimit;alert(`‚ùå Plan ${L.value} limit√© √† ${w} agent(s). Passez au plan sup√©rieur pour cr√©er plus d'agents.`);return}M.value=null,(await U(o.id)).success&&console.log("Agent dupliqu√© avec succ√®s")},Ee=async o=>{if(i.value){alert("‚ùå Votre essai gratuit est termin√©. Passez au plan Starter pour g√©rer vos agents.");return}M.value=null,(await T(o.id,!o.isActive)).success&&console.log(`Agent ${o.isActive?"d√©sactiv√©":"activ√©"} avec succ√®s`)},Ie=async o=>{if(i.value){alert("‚ùå Votre essai gratuit est termin√©. Passez au plan Starter pour g√©rer vos agents.");return}confirm("√ätes-vous s√ªr de vouloir supprimer ce vendeur IA ?")&&(M.value=null,(await z(o.id)).success&&console.log("Agent supprim√© avec succ√®s"))},Pe=async o=>{if(console.log("üîÑ Navigation vers configuration:",o.id,o.name),i.value){alert(`‚ùå Votre essai gratuit est termin√©.

Passez au plan Starter pour acc√©der √† la configuration de vos agents IA.`),v.push("/billing");return}M.value=null;try{const{useAgentConfigStore:s}=await fe(async()=>{const{useAgentConfigStore:f}=await import("./CP6Adv8A.js");return{useAgentConfigStore:f}},__vite__mapDeps([0,1]),import.meta.url),w=s(),n={id:o.id,name:o.name,type:o.type,personality:o.personality||"friendly",description:o.description||"",welcomeMessage:o.welcomeMessage||"",fallbackMessage:o.fallbackMessage||"",avatar:o.avatar||"",isActive:o.isActive,config:o.config||{},stats:o.stats||{conversations:0,conversions:0},sourceComponent:"vendeurs-ia"};w.setAgentForConfig(n,"vendeurs-ia"),console.log("‚úÖ Agent sauvegard√© dans store pour configuration"),await re({path:"/agent-config",query:{id:o.id}})}catch(s){console.warn("‚ö†Ô∏è Erreur navigation:",s),window.location.href=`/agent-config?id=${o.id}`}},je=async o=>{if(i.value){alert(`‚ùå Votre essai gratuit est termin√©.

Passez au plan Starter pour tester vos agents IA.`),v.push("/billing");return}if(!B.value){alert("‚ùå La fonctionnalit√© de test est r√©serv√©e aux utilisateurs des plans payants."),v.push("/billing");return}console.log("üß™ Redirection vers test playground pour agent:",o.id,o.name);try{const{useAgentConfigStore:s}=await fe(async()=>{const{useAgentConfigStore:f}=await import("./CP6Adv8A.js");return{useAgentConfigStore:f}},__vite__mapDeps([0,1]),import.meta.url),w=s(),n={id:o.id,name:o.name,type:o.type,personality:o.personality||"friendly",description:o.description||"",welcomeMessage:o.welcomeMessage||"",fallbackMessage:o.fallbackMessage||"",avatar:o.avatar||"",isActive:o.isActive,config:o.config||{},stats:o.stats||{conversations:0,conversions:0},sourceComponent:"vendeurs-ia"};w.setAgentForConfig(n,"vendeurs-ia"),console.log("‚úÖ Agent sauvegard√© pour test playground"),await re({path:"/agent-config",query:{id:o.id,tab:"playground"}}),console.log("‚úÖ Navigation vers playground r√©ussie")}catch(s){console.warn("‚ö†Ô∏è Erreur navigation:",s),window.location.href=`/agent-config?id=${o.id}&tab=playground`}},me=async()=>{if(!S.value.trim()||q.value||!D.value)return;const o=S.value.trim();S.value="",q.value=!0;const s={id:Date.now().toString(),role:"user",content:o,timestamp:new Date};I.value.push(s);const w={id:(Date.now()+1).toString(),role:"assistant",content:"L'IA r√©fl√©chit...",timestamp:new Date,loading:!0};I.value.push(w),await he(),$.value&&($.value.scrollTop=$.value.scrollHeight);try{await new Promise(ue=>setTimeout(ue,1e3));const n=[`Merci pour votre question ! En tant que ${D.value.name}, je peux vous aider avec cela.`,"C'est une excellente question ! Laissez-moi vous expliquer...","Je comprends votre besoin. Voici ce que je peux vous proposer...","Parfait ! C'est exactement le type de question pour laquelle je suis con√ßu."],f=n[Math.floor(Math.random()*n.length)],Z=I.value.findIndex(ue=>ue.loading);Z!==-1&&(I.value[Z]={id:Date.now().toString(),role:"assistant",content:f,timestamp:new Date})}catch(n){console.error("‚ùå Erreur simulation IA:",n);const f=I.value.findIndex(Z=>Z.loading);f!==-1&&(I.value[f]={id:Date.now().toString(),role:"assistant",content:D.value?.fallbackMessage||"D√©sol√©, je ne peux pas r√©pondre pour le moment.",timestamp:new Date})}finally{q.value=!1,await he(),$.value&&($.value.scrollTop=$.value.scrollHeight)}},Le=async()=>{if(t.value.name)try{E.value?(await le(E.value.id,t.value)).success&&(console.log("Agent modifi√© avec succ√®s"),G()):(await ne(t.value)).success&&(console.log("Agent cr√©√© avec succ√®s"),G())}catch(o){console.error("Erreur sauvegarde:",o)}},G=()=>{N.value=!1,E.value=null,O.value=!1,D.value=null,I.value=[],S.value="",t.value={name:"",type:"general",personality:"professional",description:"",welcomeMessage:"",fallbackMessage:"",isActive:!0}},ge=o=>{o.target.closest(".dropdown")||(M.value=null)};return Ve(async()=>{console.log("üöÄ [vendeurs-ia] Page mont√©e - API PURE"),console.log("üë§ Utilisateur:",b.user?.email),console.log("üìã Plan:",L.value),console.log("‚è∞ Essai expir√©:",i.value),document.addEventListener("click",ge),await W()}),Be(()=>{document.removeEventListener("click",ge)}),qe({title:"Vendeurs IA - ChatSeller Dashboard"}),(o,s)=>{const w=Se;return d(),c("div",Oe,[e("div",Fe,[e("div",Je,[e("div",Ge,[s[10]||(s[10]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Vendeurs IA"),e("p",{class:"mt-2 text-gray-600"}," G√©rez vos agents IA commerciaux et leurs performances ")],-1)),e("div",Qe,[e("button",{onClick:be,disabled:r(g),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 transition-colors"},[(d(),c("svg",{class:h(["w-4 h-4 mr-2",{"animate-spin":r(g)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s[8]||(s[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]),2)),p(" "+u(r(g)?"Actualisation...":"Actualiser"),1)],8,We),e("button",{onClick:ve,disabled:!r(C)||r(i),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:r(C)?r(i)?"Essai gratuit expir√©":"":`Plan ${r(L)} limit√© √† ${r(m).agentLimit} agent(s)`},s[9]||(s[9]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),p(" Cr√©er un Vendeur IA ",-1)]),8,Ke)])])])]),e("div",Xe,[r(i)?(d(),c("div",Ye,[e("div",Ze,[e("div",et,[e("div",null,[s[12]||(s[12]=e("h2",{class:"text-xl font-bold mb-2 flex items-center"}," ‚è∞ Essai gratuit termin√© ",-1)),s[13]||(s[13]=e("p",{class:"text-red-100 text-base mb-4"},[p(" Votre p√©riode d'essai de 7 jours est termin√©e. Vos Vendeurs IA et Widgets sont maintenant "),e("strong",null,"d√©sactiv√©s"),p(". ")],-1)),e("div",tt,[ce(w,{to:"/billing",class:"inline-flex items-center px-6 py-3 bg-white text-red-600 rounded-lg font-medium hover:bg-red-50 transition-all"},{default:de(()=>s[11]||(s[11]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1),p(" Passer au plan Starter - 14‚Ç¨/mois ",-1)])),_:1,__:[11]})])])])])])):r(L)==="starter"?(d(),c("div",st,[e("div",ot,[e("div",rt,[e("div",null,[s[15]||(s[15]=e("h2",{class:"text-xl font-bold mb-2"},"‚ö° Plan Starter - Limit√© √† 1 Vendeur IA",-1)),s[16]||(s[16]=e("p",{class:"text-blue-100 text-base mb-4"}," Passez au plan Pro pour cr√©er jusqu'√† 3 Vendeurs IA sp√©cialis√©s et d√©bloquer toutes les fonctionnalit√©s avanc√©es. ",-1)),e("div",nt,[ce(w,{to:"/billing",class:"inline-flex items-center px-6 py-3 bg-white bg-opacity-20 rounded-lg text-white font-medium hover:bg-opacity-30 transition-all backdrop-blur-sm"},{default:de(()=>s[14]||(s[14]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1),p(" Passer au Pro - 29‚Ç¨/mois ",-1)])),_:1,__:[14]})])])])])])):r(L)==="free"&&r(m).trialDaysLeft&&r(m).trialDaysLeft>0?(d(),c("div",lt,[e("div",at,[e("div",it,[e("div",null,[s[20]||(s[20]=e("h2",{class:"text-xl font-bold mb-2"},"üéâ Essai gratuit actif",-1)),e("p",ut,[s[17]||(s[17]=p(" Encore ",-1)),e("strong",null,u(r(m).trialDaysLeft)+" jour"+u(r(m).trialDaysLeft>1?"s":""),1),s[18]||(s[18]=p(" pour profiter de toutes les fonctionnalit√©s Starter gratuitement ! ",-1))]),e("div",ct,[ce(w,{to:"/billing",class:"inline-flex items-center px-6 py-3 bg-white bg-opacity-20 rounded-lg text-white font-medium hover:bg-opacity-30 transition-all backdrop-blur-sm"},{default:de(()=>s[19]||(s[19]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1),p(" Passer au plan payant ",-1)])),_:1,__:[19]})])]),e("div",dt,[e("div",pt,[e("span",vt,u(r(m).trialDaysLeft),1)])])])])])):_("",!0)]),r(k)?(d(),c("div",mt,[e("div",gt,[e("div",ft,[s[21]||(s[21]=e("svg",{class:"w-5 h-5 text-red-400 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("p",ht,u(r(k)),1)]),e("button",{onClick:s[0]||(s[0]=(...n)=>r(Y)&&r(Y)(...n)),class:"text-red-400 hover:text-red-600 transition-colors"},s[22]||(s[22]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):_("",!0),e("div",xt,[r(g)&&r(V).length===0?(d(),c("div",bt,s[23]||(s[23]=[e("div",{class:"inline-flex items-center space-x-3"},[e("svg",{class:"animate-spin h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})]),e("span",{class:"text-lg text-gray-600"},"Chargement des agents IA...")],-1)]))):r(V).length>0?(d(),c("div",wt,[(d(!0),c(ee,null,te(r(V),n=>(d(),c("div",{key:n.id,class:h(["agent-card",{"agent-card-active":n.isActive&&!r(i),"agent-card-disabled":r(i)}])},[e("div",yt,[e("div",kt,[e("div",{class:h(["agent-avatar",r(X)(n.type)])},[(d(),c("svg",At,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:r(ae)(n.type)},null,8,_t)]))],2),e("div",null,[e("h3",Ct,u(n.name),1),e("p",Mt,u(r(K)(n.type)),1)])]),e("div",Et,[e("span",{class:h([r(ie)(n.isActive),"status-badge"])},u(r(i)?"D√©sactiv√© (Essai expir√©)":n.isActive?"Actif":"Inactif"),3),e("div",It,[e("button",{onClick:f=>_e(n.id),disabled:r(i),class:h(["agent-menu-btn",{"opacity-50 cursor-not-allowed":r(i)}])},s[24]||(s[24]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})],-1)]),10,Pt),M.value===n.id&&!r(i)?(d(),c("div",jt,[e("button",{onClick:f=>Ce(n),class:"dropdown-item"},s[25]||(s[25]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),p(" Modifier ",-1)]),8,Lt),e("button",{onClick:f=>Me(n),class:"dropdown-item",disabled:!r(C)},s[26]||(s[26]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1),p(" Dupliquer ",-1)]),8,St),e("button",{onClick:f=>Ee(n),class:"dropdown-item"},[s[27]||(s[27]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})],-1)),p(" "+u(n.isActive?"D√©sactiver":"Activer"),1)],8,$t),e("button",{onClick:f=>Ie(n),class:"dropdown-item text-red-600 hover:bg-red-50"},s[28]||(s[28]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),p(" Supprimer ",-1)]),8,Vt)])):_("",!0)])])]),e("p",Bt,u(n.description||"Aucune description fournie."),1),r(i)?(d(),c("div",zt,s[29]||(s[29]=[Ue('<div class="text-center text-white p-4" data-v-c2ae9c8e><svg class="w-8 h-8 mx-auto mb-2 text-red-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-c2ae9c8e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-v-c2ae9c8e></path></svg><p class="text-sm font-medium" data-v-c2ae9c8e>Essai expir√©</p><p class="text-xs text-gray-300" data-v-c2ae9c8e>Passez au plan Starter</p></div>',1)]))):_("",!0),e("div",{class:h(["grid grid-cols-2 gap-4 mb-4",{"opacity-30":r(i)}])},[e("div",Tt,[e("div",Ut,u(n.stats?.conversations||0),1),s[30]||(s[30]=e("div",{class:"stat-label"},"Conversations",-1))]),e("div",Dt,[e("div",qt,u(n.stats?.conversions||0),1),s[31]||(s[31]=e("div",{class:"stat-label"},"Conversions",-1))])],2),e("div",Rt,[e("button",{onClick:f=>Pe(n),disabled:!r(H)||r(i),class:h(["flex-1 btn-secondary",{"opacity-50 cursor-not-allowed":!r(H)||r(i)}]),title:r(i)?"Essai gratuit expir√©":r(H)?"":"Acc√®s limit√© selon votre plan"},[s[32]||(s[32]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),p(" "+u(r(i)?"Bloqu√©":"Configurer"),1)],10,Ht),e("button",{onClick:f=>je(n),disabled:!r(B)||r(i),class:h(["flex-1 btn-primary",{"opacity-50 cursor-not-allowed":!r(B)||r(i)}]),title:r(i)?"Essai gratuit expir√©":r(B)?"":"Test r√©serv√© aux plans payants"},[s[33]||(s[33]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),p(" "+u(r(i)?"Bloqu√©":"Tester"),1)],10,Nt)])],2))),128))])):r(g)?_("",!0):(d(),c("div",Ot,[s[36]||(s[36]=e("div",{class:"empty-state-illustration"},[e("svg",{class:"mx-auto h-24 w-24 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})])],-1)),e("h3",Ft,u(r(i)?"Acc√®s limit√© - Essai gratuit termin√©":"Cr√©ez votre premier Vendeur IA"),1),e("p",Jt,u(r(i)?"Passez au plan Starter pour r√©activer vos Vendeurs IA et continuer √† utiliser ChatSeller.":"Commencez par cr√©er un agent IA commercial personnalis√© pour transformer vos visiteurs en clients."),1),e("div",Gt,[r(i)?(d(),c("button",{key:0,onClick:s[1]||(s[1]=n=>o.$router.push("/billing")),class:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-xl text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 transition-all duration-200"},s[34]||(s[34]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1),p(" Passer au plan Starter - 14‚Ç¨/mois ",-1)]))):(d(),c("button",{key:1,onClick:ve,disabled:!r(C),class:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-xl text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},s[35]||(s[35]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),p(" Cr√©er mon premier Vendeur IA ",-1)]),8,Qt))])]))]),(N.value||E.value)&&!r(i)?(d(),c("div",{key:1,class:"modal-overlay",onClick:ze(G,["self"])},[e("div",Wt,[e("div",Kt,[e("h3",Xt,u(E.value?"Modifier le Vendeur IA":"Cr√©er un nouveau Vendeur IA"),1),e("button",{onClick:G,class:"modal-close"},s[37]||(s[37]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Yt,[E.value?_("",!0):(d(),c("div",Zt,[e("div",es,[s[40]||(s[40]=e("svg",{class:"w-6 h-6 text-blue-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",null,[s[38]||(s[38]=e("h4",{class:"font-medium text-blue-900 mb-1"},"üéØ Cr√©er votre Vendeur IA en 3 √©tapes",-1)),s[39]||(s[39]=e("p",{class:"text-sm text-blue-700"},[e("strong",null,"1."),p(" Choisissez le type ‚Üí "),e("strong",null,"2."),p(" Nom et personnalit√© ‚Üí "),e("strong",null,"3."),p(" Activez ! Les descriptions et messages sont g√©n√©r√©s automatiquement. ")],-1)),r(m).agentLimit>0?(d(),c("p",ts," üí° Votre plan permet "+u(r(m).agentLimit===-1?"un nombre illimit√©":r(m).agentLimit)+" agent"+u(r(m).agentLimit>1?"s":"")+". Vous avez utilis√© "+u(r(V).length)+"/"+u(r(m).agentLimit===-1?"‚àû":r(m).agentLimit)+" emplacements. ",1)):_("",!0)])])])),e("div",ss,[e("div",null,[s[41]||(s[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},[e("span",{class:"flex items-center"},[e("span",{class:"w-6 h-6 bg-blue-600 text-white text-xs font-bold rounded-full flex items-center justify-center mr-2"},"1"),p(" Quel type de vendeur IA voulez-vous ? ")])],-1)),e("div",os,[(d(!0),c(ee,null,te(l.value,n=>(d(),c("button",{key:n.value,onClick:f=>we(n.value),class:h(["p-4 border-2 rounded-lg text-left transition-all hover:border-blue-300 hover:bg-blue-50",t.value.type===n.value?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-200"])},[e("div",ns,[e("div",{class:h(["w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0",n.color])},[(d(),c("svg",ls,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:n.icon},null,8,as)]))],2),e("div",is,[e("h4",us,u(n.label),1),e("p",cs,u(n.description),1)])])],10,rs))),128))])]),e("div",null,[s[42]||(s[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("span",{class:"flex items-center"},[e("span",{class:"w-6 h-6 bg-blue-600 text-white text-xs font-bold rounded-full flex items-center justify-center mr-2"},"2"),p(" Nom du Vendeur IA * ")])],-1)),se(e("input",{"onUpdate:modelValue":s[2]||(s[2]=n=>t.value.name=n),onInput:ke,type:"text",class:"input-modern w-full",placeholder:A()},null,40,ds),[[oe,t.value.name]]),e("p",ps," Exemples: "+u(F()),1)]),e("div",null,[s[43]||(s[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Personnalit√© et ton",-1)),e("div",vs,[(d(!0),c(ee,null,te(a.value,n=>(d(),c("button",{key:n.value,onClick:f=>ye(n.value),class:h(["p-3 border-2 rounded-lg text-left transition-all",t.value.personality===n.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"])},[e("div",gs,[e("span",fs,u(n.emoji),1),e("div",null,[e("div",hs,u(n.label),1),e("div",xs,u(n.description),1)])])],10,ms))),128))])]),e("div",null,[s[47]||(s[47]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[p(" Description et r√¥le "),e("span",{class:"text-gray-500 font-normal"},"(g√©n√©r√©e automatiquement)")],-1)),e("div",bs,[se(e("textarea",{"onUpdate:modelValue":s[3]||(s[3]=n=>t.value.description=n),rows:"3",class:"input-modern w-full pr-20",placeholder:pe()},null,8,ws),[[oe,t.value.description]]),e("button",{onClick:Ae,disabled:R.value||!t.value.name||!t.value.type,class:"absolute top-2 right-2 px-3 py-1 bg-purple-600 text-white text-xs font-medium rounded-md hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[R.value?(d(),c("svg",ks,s[44]||(s[44]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))):(d(),c("svg",As,s[45]||(s[45]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"},null,-1)]))),s[46]||(s[46]=p(" ‚ú® IA ",-1))],8,ys)])]),e("div",null,[s[48]||(s[48]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Message d'accueil * ",-1)),se(e("textarea",{"onUpdate:modelValue":s[4]||(s[4]=n=>t.value.welcomeMessage=n),rows:"2",class:"input-modern w-full",placeholder:J()},null,8,_s),[[oe,t.value.welcomeMessage]])]),t.value.name?(d(),c("div",Cs,[s[49]||(s[49]=e("h4",{class:"font-medium text-gray-900 mb-3 flex items-center"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]),p(" Aper√ßu de votre Vendeur IA ")],-1)),e("div",Ms,[e("div",Es,[e("div",{class:h(["w-10 h-10 rounded-full flex items-center justify-center",r(X)(t.value.type)])},[e("span",Is,u(t.value.name?t.value.name[0].toUpperCase():"V"),1)],2),e("div",Ps,[e("div",js,u(t.value.name||"Votre Vendeur IA"),1),e("div",Ls,u(r(K)(t.value.type)),1),e("div",Ss,u(t.value.welcomeMessage||J()),1)])])])])):_("",!0),e("div",$s,[s[50]||(s[50]=e("div",null,[e("h4",{class:"text-sm font-medium text-gray-900 flex items-center"},[e("span",{class:"w-6 h-6 bg-blue-600 text-white text-xs font-bold rounded-full flex items-center justify-center mr-2"},"3"),p(" Activer imm√©diatement ")]),e("p",{class:"text-xs text-gray-500"},"Le vendeur IA sera disponible d√®s sa cr√©ation")],-1)),e("button",{onClick:s[5]||(s[5]=n=>t.value.isActive=!t.value.isActive),class:h(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",t.value.isActive?"bg-blue-600":"bg-gray-200"])},[e("span",{class:h(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",t.value.isActive?"translate-x-5":"translate-x-0"])},null,2)],2)])])]),e("div",Vs,[e("button",{onClick:G,class:"btn-secondary"},"Annuler"),e("button",{onClick:Le,disabled:!t.value.name||r(y),class:"btn-primary"},[r(y)?(d(),c("svg",zs,s[51]||(s[51]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))):_("",!0),p(" "+u(r(y)?"Cr√©ation...":E.value?"Mettre √† jour":"Cr√©er le Vendeur IA"),1)],8,Bs)])])])):_("",!0),O.value&&D.value&&!r(i)?(d(),c("div",Ts,[e("div",Us,[e("div",Ds,[e("h3",qs,"Test - "+u(D.value.name),1),e("button",{onClick:s[6]||(s[6]=n=>O.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},s[52]||(s[52]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",{class:"flex-1 p-4 bg-gray-50 overflow-y-auto",ref_key:"chatContainer",ref:$},[e("div",Rs,[(d(!0),c(ee,null,te(I.value,n=>(d(),c("div",{key:n.id,class:h(["flex items-start space-x-2",n.role==="user"?"flex-row-reverse space-x-reverse":""])},[e("div",{class:h(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",n.role==="user"?"bg-gray-500":"bg-blue-500"])},[e("span",Hs,u(n.role==="user"?"U":"IA"),1)],2),e("div",{class:h(["bg-white p-3 rounded-lg shadow-sm max-w-xs",n.role==="user"?"bg-blue-100":""])},[e("p",Ns,u(n.content),1),n.role==="assistant"&&n.loading?(d(),c("div",Os,s[53]||(s[53]=[e("svg",{class:"animate-spin h-3 w-3 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),e("span",{class:"text-xs text-gray-500"},"L'IA r√©fl√©chit...",-1)]))):_("",!0)],2)],2))),128))])],512),e("div",Fs,[e("div",Js,[se(e("input",{"onUpdate:modelValue":s[7]||(s[7]=n=>S.value=n),onKeyup:Te(me,["enter"]),type:"text",placeholder:"Tapez votre message de test...",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:q.value},null,40,Gs),[[oe,S.value]]),e("button",{onClick:me,disabled:!S.value.trim()||q.value,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50"},s[54]||(s[54]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)]),8,Qs)]),e("p",Ws,"Test en direct avec IA ‚Ä¢ "+u(r(L))+" plan",1)])])])):_("",!0)])}}}),so=He(Ks,[["__scopeId","data-v-c2ae9c8e"]]);export{so as default};
