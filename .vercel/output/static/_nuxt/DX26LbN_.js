import{d as x,m as F,C as J,l as gt,q as Me,I as pt,E as d,H as e,M as h,U as l,a0 as w,u as C,a2 as b,a6 as $,F as R,P as L,a3 as W,a5 as me,Q as v,W as Pe,V as Y,a7 as mt,a1 as vt,v as ft,G as u}from"./DQgDrh1u.js";import{a as Ve,d as Re,h as bt,u as xt,g as yt}from"./Cm96zG12.js";import{useAgentConfigStore as Le}from"./CP6Adv8A.js";import{u as ht}from"./DxsogRsG.js";import{_ as wt}from"./DlAUqK2U.js";import"./DAvq3nrc.js";const kt=()=>{const P=Ve(),Ce=Le(),I=Re(),oe=x(!1),O=x(!1),M=x(null),g=x(null),D=x(null),S=x("idle"),ne=x(!0),Q=x(null),X=x(!1),Ae=F(()=>{const r=g.value?.agent?.name&&g.value?.agent?.title&&g.value?.agent?.id,a=Ce.hasValidAgent,i=g.value?.widget?.buttonText;return r||a||i}),ae=r=>{const a=r.replace("#",""),i=parseInt(a.substring(0,2),16),f=parseInt(a.substring(2,4),16),p=parseInt(a.substring(4,6),16);return`${i}, ${f}, ${p}`},de=(r,a)=>{try{const i=r.replace("#",""),f=parseInt(i.substr(0,2),16),p=parseInt(i.substr(2,2),16),c=parseInt(i.substr(4,2),16),y=m=>{const s=m+m*a/100;return Math.max(0,Math.min(255,Math.round(s)))};return`rgb(${y(f)}, ${y(p)}, ${y(c)})`}catch{return r}},ve=r=>({none:"0px",sm:"6px",md:"12px",lg:"16px",xl:"24px",full:"50px"})[r]||"12px",H=r=>{if(!r)return"";const i=Math.floor((new Date().getTime()-r.getTime())/1e3);return i<60?`il y a ${i}s`:i<3600?`il y a ${Math.floor(i/60)}min`:i<86400?`il y a ${Math.floor(i/3600)}h`:r.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})},K=r=>({general:"Conseiller commercial",product_specialist:"Sp√©cialiste produit",support:"Conseiller support",upsell:"Conseiller premium"})[r]||"Vendeur IA",le=()=>[{value:"auto",label:"üéØ D√©tection automatique",description:"Le syst√®me d√©tecte automatiquement le type"},{value:"jeu",label:"üéÆ Jeux",description:"Jeux de soci√©t√©, cartes, etc."},{value:"livre",label:"üìö Livres",description:"Livres, romans, manuels"},{value:"formation",label:"üéì Formations",description:"Cours en ligne, formations"},{value:"smartphone",label:"üì± Smartphones",description:"T√©l√©phones, accessoires mobiles"},{value:"ordinateur",label:"üíª Ordinateurs",description:"PC, laptops, composants"},{value:"v√™tement",label:"üëó V√™tements",description:"Mode, accessoires vestimentaires"},{value:"service",label:"üîß Services",description:"Consultations, prestations"},{value:"bijou",label:"üíé Bijoux",description:"Bijoux, montres, accessoires"},{value:"produit",label:"üì¶ Autre produit",description:"Autres types de produits"}],fe=r=>{const a=le().find(i=>i.value===r);return a?a.label:"üéØ D√©tection automatique"},ue=F(()=>{console.log("üîß [integrationCode] G√©n√©ration du code d'int√©gration avec ic√¥ne...");let r=null,a="",i="",f="",p=null;if(g.value?.agent?.id&&g.value?.agent?.name?(r=g.value.agent,p=g.value.widget,a=r.id,i=r.name,f=r.title||K(r.type)):D.value?.agent?.name&&(r=D.value.agent,p=D.value.widget,a=r.id||"temp-agent",i=r.name,f=r.title||K(r.type||"general")),!r||!a||!i)return"<!-- ‚è≥ Chargement de la configuration du Vendeur IA... -->";try{const c=P.user?.id||P.userShopId||"demo-shop",y=p?.buttonText||"Parler au vendeur",m=p?.primaryColor||"#EC4899",s=p?.position||"above-cta",U=p?.theme||"modern",j=p?.language||"fr",N=p?.borderRadius||"md",ee=de(m,-15),_=ve(N),ge="https://widget.chatseller.app",te=I.public.apiBaseUrl||"https://chatseller-api-production.up.railway.app";return`<!-- ü§ñ ChatSeller Widget v1.5.1 - ${i} (${f}) - IC√îNE CORRIG√âE -->

<script>
(function() {
  'use strict';
  
  // ‚úÖ Configuration ChatSeller Widget avec IC√îNE FORC√âE
  window.ChatSellerConfig = {
    shopId: '${c}',
    agentId: '${a}',
    apiUrl: '${te}',
    buttonText: '${y.replace(/'/g,"\\'")}',
    primaryColor: '${m}',
    position: '${s}',
    theme: '${U}',
    language: '${j}',
    borderRadius: '${N}',
    autoDetectProduct: true,
    debug: false,
    disableFallback: false,
    agentConfig: {
      id: '${a}',
      name: '${i.replace(/'/g,"\\'")}',
      title: '${f.replace(/'/g,"\\'")}',
      welcomeMessage: '${(r.welcomeMessage||"Bonjour ! Comment puis-je vous aider ?").replace(/'/g,"\\'")}',
      fallbackMessage: '${(r.fallbackMessage||"Un instant, je transmets votre question √† notre √©quipe.").replace(/'/g,"\\'")}',
      personality: '${r.personality||"friendly"}',
      productType: '${r.productType||"auto"}',
      shopName: '${r.shopName||"cette boutique"}'
    }
  };
  
  // ‚úÖ PROTECTION ANTI-DOUBLE CHARGEMENT
  if (window.ChatSellerInitialized) {
    console.log('‚ö†Ô∏è ChatSeller: D√©j√† initialis√©');
    return;
  }
  window.ChatSellerInitialized = true;
  
  // ‚úÖ NETTOYAGE PR√âVENTIF (supprime automatiquement les boutons flottants)
  function cleanupExistingWidgets() {
    const selectors = [
      '#chatseller-widget',
      '#chatseller-modal',
      '[data-chatseller]',
      '.chatseller-widget',
      '#chatseller-fallback' // ‚úÖ AJOUT : Supprime le bouton flottant ind√©sirable
    ];
    
    selectors.forEach(selector => {
      const elements = document.querySelectorAll(selector);
      elements.forEach(el => el.remove());
    });
  }
  
  // ‚úÖ CSS CRITIQUE AVEC IC√îNE FORC√âE MAXIMAL
  function injectCriticalCSS() {
    if (document.getElementById('chatseller-critical-css')) return;
    
    const style = document.createElement('style');
    style.id = 'chatseller-critical-css';
    style.textContent = \`
/* üé® CHATSELLER CSS AVEC IC√îNE FORC√âE SHOPIFY-PROOF */
.cs-chatseller-widget, .cs-chatseller-widget * {
  all: unset !important;
  box-sizing: border-box !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
}

.cs-chatseller-widget {
  position: relative !important;
  z-index: 999999 !important;
  display: block !important;
  margin: 8px 0 !important;
  width: 100% !important;
  contain: layout style !important;
  isolation: isolate !important;
}

/* ‚úÖ BOUTON AVEC IC√îNE FORC√âE MAXIMALE */
.cs-chat-trigger-button {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  width: 100% !important;
  padding: 16px 24px !important;
  background: linear-gradient(135deg, ${m} 0%, ${ee} 100%) !important;
  color: white !important;
  border: none !important;
  border-radius: ${_} !important;
  font-size: 15px !important;
  font-weight: 600 !important;
  cursor: pointer !important;
  transition: all 0.3s ease !important;
  box-shadow: 0 8px 25px rgba(${ae(m)}, 0.3) !important;
  min-height: 56px !important;
  font-family: inherit !important;
  gap: 8px !important;
  outline: none !important;
}

.cs-chat-trigger-button:hover {
  transform: translateY(-2px) !important;
  box-shadow: 0 12px 35px rgba(${ae(m)}, 0.4) !important;
}

/* ‚úÖ IC√îNE SVG PROTECTION MAXIMALE SHOPIFY */
.cs-chat-trigger-button svg {
  width: 20px !important;
  height: 20px !important;
  fill: none !important;
  stroke: white !important;
  stroke-width: 2 !important;
  flex-shrink: 0 !important;
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  position: relative !important;
  z-index: 999999 !important;
  pointer-events: none !important;
  min-width: 20px !important;
  max-width: 20px !important;
  min-height: 20px !important;
  max-height: 20px !important;
  color: white !important;
}

.cs-chat-trigger-button svg * {
  fill: none !important;
  stroke: white !important;
  stroke-width: 2 !important;
  stroke-linecap: round !important;
  stroke-linejoin: round !important;
  opacity: 1 !important;
  visibility: visible !important;
  display: block !important;
  pointer-events: none !important;
  color: white !important;
}

/* ‚úÖ PROTECTION ANTI-OVERRIDE SHOPIFY MAXIMALE */
.shopify-section .cs-chat-trigger-button svg,
.product-form .cs-chat-trigger-button svg,
[class*="product"] .cs-chat-trigger-button svg,
.theme-shopify .cs-chat-trigger-button svg,
.page .cs-chat-trigger-button svg {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  width: 20px !important;
  height: 20px !important;
  stroke: white !important;
  color: white !important;
}
    \`;
    document.head.appendChild(style);
  }
  
  // ‚úÖ FONCTION DE CHARGEMENT PRINCIPALE
  function loadChatSellerWidget() {
    console.log('üöÄ ChatSeller: Chargement widget avec ic√¥ne corrig√©e...');
    
    cleanupExistingWidgets(); // Supprime tout bouton flottant existant
    injectCriticalCSS(); // Injecte le CSS avec ic√¥ne forc√©e
    
    if (window.ChatSellerLoaded) {
      console.log('‚ö†Ô∏è ChatSeller: D√©j√† charg√©');
      return;
    }
    window.ChatSellerLoaded = true;
    
    // ‚úÖ CHARGEMENT SCRIPT WIDGET
    var script = document.createElement('script');
    script.src = '${ge}/embed.js?v=1.5.1&t=' + Date.now();
    script.async = true;
    script.crossOrigin = 'anonymous';
    script.setAttribute('data-chatseller', 'modern-widget-fixed');
    
    script.onload = function() {
      console.log('‚úÖ ChatSeller: Script charg√© avec ic√¥ne');
      
      var maxAttempts = 30;
      var attempts = 0;
      
      function tryInit() {
        attempts++;
        if (window.ChatSeller && typeof window.ChatSeller.init === 'function') {
          try {
            window.ChatSeller.init(window.ChatSellerConfig);
            console.log('‚úÖ ChatSeller: Widget initialis√© avec ic√¥ne visible');
          } catch (error) {
            console.error('‚ùå ChatSeller: Erreur init:', error);
          }
        } else if (attempts < maxAttempts) {
          setTimeout(tryInit, 300);
        } else {
          console.warn('‚è∞ ChatSeller: Timeout init');
          // ‚úÖ PAS DE FALLBACK FLOTTANT - comportement corrig√©
        }
      }
      
      tryInit();
    };
    
    script.onerror = function(error) {
      console.error('‚ùå ChatSeller: Erreur chargement:', error);
      // ‚úÖ PAS DE FALLBACK FLOTTANT - comportement corrig√©
    };
    
    var firstScript = document.getElementsByTagName('script')[0];
    if (firstScript && firstScript.parentNode) {
      firstScript.parentNode.insertBefore(script, firstScript);
    } else {
      document.head.appendChild(script);
    }
  }
  
  // ‚úÖ D√âMARRAGE INTELLIGENT
  function startWidget() {
    if (window.location.href.includes('/admin/')) {
      console.log('üõë ChatSeller: Admin d√©tect√©, arr√™t');
      return;
    }
    
    loadChatSellerWidget();
  }
  
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', startWidget);
  } else {
    setTimeout(startWidget, 200);
  }
  
})();
<\/script>
<!-- üöÄ Fin ChatSeller Widget IC√îNE CORRIG√âE -->`}catch(c){return console.error("‚ùå Erreur g√©n√©ration code int√©gration:",c),"<!-- ‚ùå Erreur lors de la g√©n√©ration du code d'int√©gration. -->"}}),G=()=>{if(!P.token)throw new Error("Token d'authentification manquant. Veuillez vous reconnecter.");return{Authorization:`Bearer ${P.token}`,"Content-Type":"application/json"}},Te=async r=>{oe.value=!0,M.value=null;try{if(console.log("üîç [useAgentConfig] R√©cup√©ration configuration agent:",r),!r||r==="undefined"||r==="null")throw new Error("ID agent invalide");if(!P.token)throw new Error("Session expir√©e. Veuillez vous reconnecter.");const a=P.user?.id||P.userShopId,[i,f,p]=await Promise.allSettled([$fetch(`/api/v1/agents/${r}/config`,{baseURL:I.public.apiBaseUrl,headers:G()}),a?$fetch(`/api/v1/shops/${a}`,{baseURL:I.public.apiBaseUrl,headers:G()}):Promise.resolve(null),$fetch(`/api/v1/agents/${r}/knowledge`,{baseURL:I.public.apiBaseUrl,headers:G()}).catch(()=>({success:!0,data:[]}))]);if(i.status==="rejected")throw console.error("‚ùå Erreur r√©cup√©ration agent:",i.reason),new Error("Erreur lors de la r√©cup√©ration de l'agent: "+i.reason.message);const c=i.value;if(!c.success)throw new Error(c.error||"Erreur lors de la r√©cup√©ration de la configuration agent");const y=f.status==="fulfilled"?f.value:null,m=p.status==="fulfilled"?p.value:{success:!0,data:[]},s={agent:{id:c.data.agent.id,name:c.data.agent.name,title:c.data.agent.title||K(c.data.agent.type||"general"),type:c.data.agent.type,personality:c.data.agent.personality,productType:c.data.agent.productType||"auto",shopName:y?.data?.name||c.data.agent.shopName||"cette boutique",description:c.data.agent.description,welcomeMessage:c.data.agent.welcomeMessage,fallbackMessage:c.data.agent.fallbackMessage,avatar:c.data.agent.avatar,isActive:c.data.agent.isActive,config:{...c.data.agent.config,linkedKnowledgeBase:m.data?.map(U=>U.id)||[],aiProvider:c.data.agent.config?.aiProvider||"openai",temperature:c.data.agent.config?.temperature||.7,maxTokens:c.data.agent.config?.maxTokens||1e3},stats:{conversations:c.data.agent.totalConversations||0,conversions:c.data.agent.totalConversions||0},knowledgeBase:m.data||[]},widget:{buttonText:y?.data?.widget_config?.buttonText||"Parler √† un conseiller",primaryColor:y?.data?.widget_config?.primaryColor||"#EC4899",position:y?.data?.widget_config?.position||"above-cta",widgetSize:y?.data?.widget_config?.widgetSize||"medium",theme:y?.data?.widget_config?.theme||"modern",borderRadius:y?.data?.widget_config?.borderRadius||"md",animation:y?.data?.widget_config?.animation||"fade",autoOpen:y?.data?.widget_config?.autoOpen||!1,showAvatar:y?.data?.widget_config?.showAvatar!==!1,soundEnabled:y?.data?.widget_config?.soundEnabled!==!1,mobileOptimized:y?.data?.widget_config?.mobileOptimized!==!1,showTypingIndicator:y?.data?.widget_config?.showTypingIndicator!==!1,offlineMessage:y?.data?.widget_config?.offlineMessage,isActive:y?.data?.widget_config?.isActive!==!1,language:y?.data?.widget_config?.language||"fr"},knowledgeBase:m.data||[]};return g.value=s,console.log("‚úÖ [useAgentConfig] Configuration moderne charg√©e:",{agent:s.agent.name,title:s.agent.title,productType:s.agent.productType,shopName:s.agent.shopName,widget:s.widget.buttonText,primaryColor:s.widget.primaryColor}),{success:!0,data:s}}catch(a){console.error("‚ùå [useAgentConfig] Erreur fetchAgentConfig:",a);const i=a.response?.data?.error||a.message||"Erreur lors de la r√©cup√©ration de la configuration";return M.value=i,{success:!1,error:i}}finally{oe.value=!1}},_e=async(r,a)=>{try{if(console.log("üß™ [testAIMessage] Test IA coh√©rent avec Widget:",{message:r,agentId:a}),!r.trim())throw new Error("Message vide");if(!a)throw new Error("Agent ID manquant");const i=await $fetch("/api/v1/public/chat",{method:"POST",baseURL:I.public.apiBaseUrl,headers:{"Content-Type":"application/json"},body:{message:r.trim(),shopId:P.user?.id||P.userShopId||"demo-shop",conversationId:null,productInfo:{name:D.value?.agent?.productType!=="auto"?`Produit de test ${fe(D.value?.agent?.productType||"auto")}`:"Produit de test",price:29900,id:"test-product-123"},visitorId:`test-visitor-${Date.now()}`,isFirstMessage:!1}});if(i.success)return{success:!0,message:i.data.message,provider:i.data.mode==="test"?"openai":i.data.provider||"openai",responseTime:i.data.responseTime||0};throw new Error(i.error||"Erreur lors du test IA")}catch(i){return console.error("‚ùå Erreur test IA:",i),{success:!1,error:i.response?.data?.error||i.message||"Erreur lors du test IA"}}},re=async(r,a,i=!1)=>{i||(O.value=!0),S.value="syncing",M.value=null;try{if(!P.token)throw new Error("Session expir√©e. Veuillez vous reconnecter.");if(!r)throw new Error("ID agent manquant");const f=P.user?.id||P.userShopId;if(!f)throw new Error("Shop ID manquant");if(console.log("üíæ [saveCompleteConfig] D√©but sauvegarde moderne:",{agentId:r,shopId:f,hasAgentUpdates:!!a.agent,hasWidgetUpdates:!!a.widget,agentTitle:a.agent?.title,productType:a.agent?.productType,shopName:a.agent?.shopName,isAutoSave:i}),a.agent){console.log("üíæ Sauvegarde configuration agent avec nouveaux champs...",{title:a.agent.title,productType:a.agent.productType,shopName:a.agent.shopName});const p={...a.agent,title:a.agent.title||K(a.agent.type||"general"),productType:a.agent.productType||"auto",shopName:a.agent.shopName||"cette boutique",config:{...a.agent.config,aiProvider:a.agent.config?.aiProvider||"openai",temperature:a.agent.config?.temperature||.7,maxTokens:a.agent.config?.maxTokens||1e3,specificInstructions:a.agent.config?.specificInstructions||[]}};console.log("üì§ [AGENT SAVE] Payload complet avec nouveaux champs:",{name:p.name,title:p.title,type:p.type,productType:p.productType,shopName:p.shopName});const c=await $fetch(`/api/v1/agents/${r}`,{method:"PUT",baseURL:I.public.apiBaseUrl,headers:G(),body:p});if(!c.success)throw new Error(`Erreur agent: ${c.error}`);console.log("‚úÖ Agent sauvegard√© avec nouveaux champs:",c.data?.title)}if(a.widget){console.log("üé® Sauvegarde configuration widget moderne...",a.widget);const p={widget_config:{buttonText:a.widget.buttonText||"Parler au vendeur",primaryColor:a.widget.primaryColor||"#EC4899",position:a.widget.position||"above-cta",theme:a.widget.theme||"modern",language:a.widget.language||"fr",widgetSize:a.widget.widgetSize||"medium",borderRadius:a.widget.borderRadius||"md",animation:a.widget.animation||"fade",autoOpen:a.widget.autoOpen||!1,showAvatar:a.widget.showAvatar!==!1,soundEnabled:a.widget.soundEnabled!==!1,mobileOptimized:a.widget.mobileOptimized!==!1,showTypingIndicator:a.widget.showTypingIndicator!==!1,isActive:a.widget.isActive!==!1,offlineMessage:a.widget.offlineMessage||null}};console.log("üì§ [saveCompleteConfig] Payload widget moderne √† envoyer:",p);const c=await $fetch(`/api/v1/shops/${f}`,{method:"PUT",baseURL:I.public.apiBaseUrl,headers:G(),body:p});if(!c.success)throw console.error("‚ùå Erreur API widget moderne:",c),new Error(`Erreur widget: ${c.error}`);console.log("‚úÖ Widget moderne sauvegard√©:",c.data?.widget_config)}return g.value&&(a.agent&&(g.value.agent={...g.value.agent,...a.agent},!g.value.agent.title&&g.value.agent.type&&(g.value.agent.title=K(g.value.agent.type)),g.value.agent.productType||(g.value.agent.productType="auto"),g.value.agent.shopName||(g.value.agent.shopName="cette boutique"),console.log("‚úÖ Config locale agent mise √† jour avec nouveaux champs:",{title:g.value.agent.title,productType:g.value.agent.productType,shopName:g.value.agent.shopName})),a.widget&&(g.value.widget={...g.value.widget,...a.widget},console.log("‚úÖ Widget moderne config locale mise √† jour:",g.value.widget))),i&&(Q.value=new Date,X.value=!1),S.value="synced",console.log("‚úÖ Configuration moderne compl√®te sauvegard√©e et synchronis√©e"),{success:!0,message:i?"Sauvegarde automatique effectu√©e":"Configuration sauvegard√©e avec succ√®s"}}catch(f){console.error("‚ùå [useAgentConfig] Erreur saveCompleteConfig moderne:",f);const p=f.response?.data?.error||f.message||"Erreur lors de la sauvegarde";return M.value=p,S.value="error",{success:!1,error:p}}finally{i||(O.value=!1),setTimeout(()=>{S.value!=="error"&&(S.value="idle")},3e3)}};let ce=null;const Ee=()=>{ne.value&&(X.value=!0,ce&&clearTimeout(ce),ce=setTimeout(async()=>{if(X.value&&D.value&&g.value){console.log("üíæ [AUTO-SAVE] D√©clenchement sauvegarde automatique...");try{await re(g.value.agent.id,{agent:D.value.agent,widget:D.value.widget},!0),console.log("‚úÖ [AUTO-SAVE] Sauvegarde automatique r√©ussie")}catch(r){console.error("‚ùå [AUTO-SAVE] Erreur sauvegarde automatique:",r)}}},12e4))},be=async(r,a)=>{O.value=!0,M.value=null;try{if(console.log("üîó [linkKnowledgeBaseDocuments] Liaison documents:",{agentId:r,documentIds:a}),!r)throw new Error("Agent ID manquant");const i=await $fetch(`/api/v1/agents/${r}/knowledge-base`,{method:"PUT",baseURL:I.public.apiBaseUrl,headers:G(),body:{documentIds:a}});if(i.success)return g.value&&(g.value.agent.config.linkedKnowledgeBase=a,i.data?.documents&&(g.value.agent.knowledgeBase=i.data.documents,g.value.knowledgeBase=i.data.documents)),console.log("‚úÖ Documents li√©s avec succ√®s"),{success:!0,data:i.data};throw new Error(i.error||"Erreur lors de la liaison des documents")}catch(i){console.error("‚ùå [linkKnowledgeBaseDocuments] Erreur:",i);const f=i.response?.data?.error||i.message||"Erreur lors de la liaison des documents";return M.value=f,{success:!1,error:f}}finally{O.value=!1}},T=async()=>{try{if(!ue.value)throw new Error("Code d'int√©gration non disponible");return await navigator.clipboard.writeText(ue.value),{success:!0,message:"Code d'int√©gration moderne copi√©!"}}catch(r){return console.error("‚ùå Erreur copie:",r),{success:!1,error:"Impossible de copier le code"}}},Z=r=>{M.value=r,S.value="error"},B=()=>{M.value=null,S.value==="error"&&(S.value="idle")};return{loading:J(oe),saving:J(O),error:J(M),agentConfig:J(g),localConfig:D,widgetSyncStatus:J(S),autoSaveEnabled:J(ne),lastAutoSave:J(Q),hasUnsavedChanges:J(X),isConfigValid:Ae,integrationCode:ue,getProductTypeOptions:le,getProductTypeLabel:fe,getTypeLabel:K,getBorderRadiusValue:ve,hexToRgb:ae,adjustColor:de,formatTime:H,fetchAgentConfig:Te,saveCompleteConfig:re,testAIMessage:_e,linkKnowledgeBaseDocuments:be,copyIntegrationCode:T,triggerAutoSave:Ee,setError:Z,clearError:B}},Ct={class:"min-h-screen bg-gray-50"},At={class:"bg-white shadow-sm border-b border-gray-200"},Tt={class:"px-4 sm:px-6 lg:px-8 py-4 lg:py-6"},_t={class:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0"},Et={class:"flex items-center space-x-3 lg:space-x-4 min-w-0 flex-1"},It={class:"min-w-0 flex-1"},St={class:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 truncate"},Mt={class:"mt-1 text-xs sm:text-sm text-gray-600"},Pt={key:0,class:"ml-2 inline-flex items-center text-blue-600"},jt={key:1,class:"ml-2 inline-flex items-center text-green-600"},Bt={key:2,class:"ml-2 inline-flex items-center text-orange-600"},zt={key:3,class:"ml-2 inline-flex items-center text-green-600 text-xs"},$t={class:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-3"},Dt={class:"sm:hidden"},Ut=["value"],Vt={class:"hidden sm:flex space-x-1 bg-gray-100 p-1 rounded-lg"},Rt=["onClick"],Lt={class:"hidden lg:inline"},Ot={class:"lg:ml-1"},Nt={class:"hidden lg:inline text-sm text-gray-500"},Ft=["disabled"],qt={key:0,class:"w-4 h-4 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Wt={key:1,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ht={class:"hidden sm:inline"},Kt={class:"mx-4 sm:mx-6 lg:mx-8 mt-4 space-y-2"},Gt={key:0,class:"p-3 lg:p-4 bg-green-50 border border-green-200 rounded-lg"},Jt={class:"flex items-center"},Yt={class:"text-green-700 text-sm"},Qt={key:1,class:"p-3 lg:p-4 bg-red-50 border border-red-200 rounded-lg"},Xt={class:"flex items-center justify-between"},Zt={class:"flex items-center"},es={class:"text-red-700 text-sm"},ts={key:0,class:"flex items-center justify-center py-12 lg:py-16"},ss={key:1,class:"p-4 sm:p-6 lg:p-8"},os={key:0,class:"grid grid-cols-1 xl:grid-cols-3 gap-6 lg:gap-8"},ns={class:"xl:col-span-2 space-y-6 lg:space-y-8"},as={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6"},ls={class:"space-y-4 lg:space-y-6"},rs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},is={class:"flex items-center space-x-4"},ds={class:"w-16 h-16 rounded-full overflow-hidden border-2 border-gray-300 bg-gray-100 flex items-center justify-center"},us=["src","alt"],cs={key:1,class:"text-gray-400 text-xs text-center"},gs={class:"flex-1"},ps={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ms=["value"],vs={class:"text-xs text-gray-500 mt-1"},fs={class:"block text-sm font-medium text-gray-700 mb-2"},bs={key:0,class:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800"},xs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ys=["disabled"],hs=["disabled"],ws=["disabled"],ks=["disabled"],Cs={key:0,class:"text-xs text-yellow-600 mt-1"},As={class:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg"},Ts={class:"flex items-start space-x-2"},_s={class:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0"},Es={class:"text-white text-xs"},Is={class:"flex-1"},Ss={class:"text-xs text-gray-600 mb-1"},Ms={key:0},Ps={class:"text-sm text-gray-800"},js={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6"},Bs={key:0,class:"text-center py-8"},zs={key:1,class:"space-y-3"},$s={class:"flex items-center space-x-3"},Ds={class:"text-sm font-medium text-gray-900"},Us={class:"text-xs text-gray-500"},Vs={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6"},Rs={class:"space-y-4 lg:space-y-6"},Ls={class:"grid grid-cols-1 sm:grid-cols-2 gap-2"},Os={class:"flex items-center"},Ns={class:"flex items-center"},Fs={class:"flex items-center"},qs={class:"flex items-center"},Ws={class:"space-y-4"},Hs={class:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-lg"},Ks={class:"flex-1"},Gs={class:"flex items-center"},Js={key:0,class:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800"},Ys={key:0,class:"text-xs text-yellow-600 mt-1"},Qs=["disabled"],Xs={class:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-lg"},Zs={class:"flex-1"},eo={class:"flex items-center"},to={key:0,class:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800"},so={key:0,class:"text-xs text-yellow-600 mt-1"},oo=["disabled"],no={class:"space-y-2"},ao=["onUpdate:modelValue"],lo=["onClick"],ro={class:"space-y-6"},io={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6"},uo={class:"space-y-3 text-sm"},co={class:"flex justify-between"},go={class:"font-mono bg-gray-100 px-2 py-1 rounded text-xs"},po={class:"flex justify-between"},mo={class:"capitalize"},vo={class:"flex justify-between"},fo={class:"text-blue-600"},bo={class:"flex justify-between"},xo={class:"capitalize"},yo={class:"flex justify-between"},ho={class:"text-blue-600"},wo={class:"flex justify-between"},ko={class:"flex justify-between"},Co={class:"mt-4 pt-4 border-t border-gray-200"},Ao={class:"flex items-center justify-between"},To={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6"},_o={class:"space-y-3"},Eo={class:"flex justify-between items-center"},Io={class:"text-lg font-bold text-blue-600"},So={class:"flex justify-between items-center"},Mo={class:"text-lg font-bold text-green-600"},Po={class:"flex justify-between items-center"},jo={class:"text-lg font-bold text-purple-600"},Bo={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6"},zo={class:"space-y-3"},$o={key:1,class:"grid grid-cols-1 xl:grid-cols-3 gap-6 lg:gap-8"},Do={class:"xl:col-span-2 space-y-6 lg:space-y-8"},Uo={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6"},Vo={class:"space-y-4 lg:space-y-6"},Ro={class:"flex items-center space-x-3"},Lo={class:"flex space-x-2"},Oo=["onClick","title"],No={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Fo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},qo={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6"},Wo={class:"space-y-4"},Ho={class:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-lg"},Ko={class:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-lg"},Go={class:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-lg"},Jo={class:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-lg"},Yo={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6"},Qo={class:"space-y-4"},Xo={class:"space-y-6"},Zo={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6"},en={class:"space-y-4"},tn={class:"bg-gray-100 p-4 rounded-lg"},sn={class:"flex space-x-2"},on=["title"],nn=["title"],an=["title"],ln={class:"flex items-center space-x-2 text-xs"},rn={class:"flex items-center"},dn={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6"},un={class:"space-y-3 text-sm"},cn={class:"flex justify-between"},gn={class:"capitalize"},pn={class:"flex justify-between"},mn={class:"capitalize"},vn={class:"flex justify-between"},fn={class:"capitalize"},bn={class:"flex justify-between"},xn={class:"text-blue-600"},yn={class:"flex justify-between"},hn={class:"mt-4 pt-4 border-t border-gray-200"},wn={class:"flex items-center justify-between"},kn={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6"},Cn={class:"space-y-3"},An={key:2,class:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8"},Tn={class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col h-96 lg:h-[600px]"},_n={class:"flex items-center space-x-3"},En={class:"w-8 lg:w-10 h-8 lg:h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center"},In={class:"text-xs lg:text-sm font-medium"},Sn={class:"font-medium text-sm lg:text-base"},Mn={class:"text-xs text-white text-opacity-90 flex items-center"},Pn={class:"ml-2 px-2 py-0.5 bg-white bg-opacity-20 rounded text-xs"},jn={class:"flex-1 p-3 lg:p-4 overflow-y-auto bg-gray-50",ref:"chatContainer"},Bn={class:"space-y-3 lg:space-y-4"},zn={key:0,class:"flex items-center"},$n={class:"text-xs text-gray-500 mr-2"},Dn={key:1},Un=["innerHTML"],Vn={key:1},Rn={key:2,class:"text-xs opacity-70 mt-1"},Ln={class:"p-3 lg:p-4 border-t border-gray-200 bg-white"},On={class:"flex space-x-2"},Nn=["disabled"],Fn=["disabled"],qn={key:0,class:"w-3 lg:w-4 h-3 lg:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Wn={key:1,class:"w-3 lg:w-4 h-3 lg:h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Hn={class:"space-y-6"},Kn={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6"},Gn={class:"space-y-3 text-sm"},Jn={class:"flex justify-between"},Yn={class:"font-medium capitalize"},Qn={class:"flex justify-between"},Xn={class:"font-medium"},Zn={class:"flex justify-between"},ea={class:"font-medium"},ta={class:"flex justify-between"},sa={class:"font-medium text-blue-600"},oa={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6"},na={class:"space-y-2"},aa=["onClick","disabled"],la={class:"font-medium"},ra={class:"text-xs text-gray-500"},ia={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6"},da={class:"space-y-3 text-sm"},ua={class:"flex justify-between"},ca={class:"font-medium"},ga={class:"flex justify-between"},pa={class:"font-medium"},ma={class:"flex justify-between"},va={class:"font-medium"},fa={key:3,class:"max-w-4xl mx-auto"},ba={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8"},xa={class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 lg:mb-8"},ya={class:"flex"},ha={class:"ml-3"},wa={class:"mt-2 text-sm text-blue-700"},ka={class:"space-y-6 lg:space-y-8"},Ca={class:"border-l-4 border-blue-500 pl-4 lg:pl-6"},Aa={class:"relative"},Ta={class:"bg-gray-900 rounded-lg p-3 lg:p-4 overflow-x-auto max-h-80"},_a={class:"text-green-400 text-xs lg:text-sm whitespace-pre-wrap"},Ea={class:"border-l-4 border-green-500 pl-4 lg:pl-6"},Ia={class:"flex flex-wrap space-x-1 bg-gray-100 p-1 rounded-lg mb-4"},Sa=["onClick"],Ma={class:"bg-gray-50 rounded-lg p-4"},Pa={key:0},ja={key:1},Ba={key:2},za={key:3},$a={class:"border-l-4 border-purple-500 pl-4 lg:pl-6"},Da={class:"space-y-3 text-sm text-gray-600"},Ua={class:"list-disc list-inside space-y-1 ml-4"},Va={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] flex flex-col"},Ra={class:"flex-1 p-6 overflow-y-auto"},La={key:0,class:"text-center py-8"},Oa={key:1,class:"text-center py-8"},Na={key:2,class:"space-y-3"},Fa=["value"],qa={class:"flex-1 min-w-0"},Wa={class:"text-sm font-medium text-gray-900 truncate"},Ha={class:"text-xs text-gray-500"},Ka={class:"flex items-center mt-1 space-x-2"},Ga={key:0,class:"text-xs text-gray-500"},Ja={class:"p-6 border-t border-gray-200"},Ya={class:"flex justify-between"},Qa={class:"text-sm text-gray-600"},Xa={class:"flex space-x-3"},Za=["disabled"],el={key:5,class:"fixed bottom-4 right-4 bg-green-600 text-white px-4 lg:px-6 py-2 lg:py-3 rounded-lg shadow-lg z-50"},tl=gt({__name:"agent-config",setup(P){const Ce=yt(),I=bt(),oe=Ve(),O=Le(),M=Re(),{saving:g,error:D,agentConfig:S,isConfigValid:ne,integrationCode:Q,widgetSyncStatus:X,hasUnsavedChanges:Ae,lastAutoSave:ae,getProductTypeOptions:de,getProductTypeLabel:ve,getTypeLabel:H,formatTime:K,fetchAgentConfig:le,saveCompleteConfig:fe,linkKnowledgeBaseDocuments:ue,testAIMessage:G,triggerAutoSave:Te,clearError:_e}=kt(),re=x(!1),{documents:ce,loading:Ee,fetchDocuments:be}=ht(),T=x("agent"),Z=x("shopify"),B=x(null),r=x(!1),a=x(!1),i=x(null),f=x(!1),p=x([]),c=x(!1),y=x(["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#84CC16"]),m=F(()=>oe.user?.subscription_plan==="professional"||oe.user?.subscription_plan==="enterprise"),s=x({agent:{id:"",name:"",title:"",type:"general",personality:"friendly",productType:"auto",description:"",welcomeMessage:"",fallbackMessage:"",avatar:"",isActive:!0,config:{collectName:!0,collectPhone:!0,collectEmail:!0,collectAddress:!1,collectPayment:!0,upsellEnabled:!1,urgencyEnabled:!1,specificInstructions:[],linkedKnowledgeBase:[],aiProvider:"openai",temperature:.7,maxTokens:1e3,systemPrompt:"",tone:"friendly"},stats:{conversations:0,conversions:0},knowledgeBase:[]},widget:{buttonText:"Parler √† la vendueuse",primaryColor:"#3B82F6",position:"above-cta",widgetSize:"medium",theme:"modern",borderRadius:"md",animation:"fade",autoOpen:!1,showAvatar:!0,soundEnabled:!0,mobileOptimized:!0,isActive:!0,language:"fr"}}),U=x(""),j=x([]),N=x(!1),ee=x([]),_=F(()=>{if(I.query.id&&typeof I.query.id=="string")return I.query.id;const o=O.getAgentForConfig();return o?.id?o.id:"unknown"}),ge=F(()=>s.value.agent.name||"Vendeur IA"),te=F(()=>s.value.agent.knowledgeBase||[]),je=F(()=>ce.value||[]),Oe=F(()=>ee.value.length===0?0:Math.round(ee.value.reduce((o,t)=>o+t,0)/ee.value.length)),Be=[{id:"agent",name:"Agent",icon:"ü§ñ"},{id:"widget",name:"Widget",icon:"üé®"},{id:"playground",name:"Test",icon:"üß™"},{id:"integration",name:"Int√©gration",icon:"üîó"}],Ne=[{id:"shopify",name:"Shopify",icon:"üü¢"},{id:"wordpress",name:"WordPress",icon:"üîµ"},{id:"woocommerce",name:"WooCommerce",icon:"üü†"},{id:"custom",name:"Personnalis√©",icon:"üåê"}],Fe=[{id:"greeting",title:"üëã Premier contact",description:"Test du message d'accueil",message:"Bonjour"},{id:"product_info",title:"üõçÔ∏è Demande d'information produit",description:"Questions sur un produit",message:"Pouvez-vous me parler de vos produits ?"},{id:"purchase_intent",title:"üí≥ Intention d'achat",description:"Client pr√™t √† acheter",message:"Je voudrais commander ce produit"},{id:"objection",title:"‚ùì Objection prix",description:"Gestion des objections",message:"C'est trop cher pour moi"},{id:"support",title:"üÜò Demande de support",description:"Question technique",message:"J'ai un probl√®me avec ma commande"}],qe=()=>{O.clearAgentConfig(),Ce.push("/vendeurs-ia")},xe=o=>{o(),E()},ye=o=>{i.value=o},ze=F(()=>i.value||D.value),$e=()=>{i.value=null,_e()},We=async()=>{console.log("üîÑ [loadAgentData] D√©but chargement donn√©es agent...");try{re.value=!0;const o=O.getAgentForConfig();if(o&&O.isDataFresh){console.log("‚úÖ [loadAgentData] Donn√©es r√©cup√©r√©es depuis store:",o.name),s.value.agent={id:o.id,name:o.name,title:o.title||H(o.type||"general"),type:o.type||"general",personality:o.personality||"friendly",productType:"auto",description:o.description||"",welcomeMessage:o.welcomeMessage||"",fallbackMessage:o.fallbackMessage||"",avatar:o.avatar||"",isActive:o.isActive,config:{collectName:o.config?.collectName??!0,collectPhone:o.config?.collectPhone??!0,collectEmail:o.config?.collectEmail??!0,collectAddress:o.config?.collectAddress??!1,collectPayment:o.config?.collectPayment??!0,upsellEnabled:o.config?.upsellEnabled??!1,urgencyEnabled:o.config?.urgencyEnabled??!1,specificInstructions:o.config?.specificInstructions?[...o.config.specificInstructions]:[],linkedKnowledgeBase:o.config?.linkedKnowledgeBase?[...o.config.linkedKnowledgeBase]:[],aiProvider:o.config?.aiProvider||"openai",temperature:o.config?.temperature||.7,maxTokens:o.config?.maxTokens||1e3,systemPrompt:o.config?.systemPrompt||"",tone:o.config?.tone||"friendly"},stats:o.stats||{conversations:0,conversions:0},knowledgeBase:o.knowledgeBase||[]},a.value=!0,_.value&&_.value!=="unknown"&&(console.log("üîÑ [loadAgentData] Mise √† jour depuis API en arri√®re-plan..."),le(_.value).then(t=>{t.success&&console.log("‚úÖ [loadAgentData] Donn√©es API mises √† jour en arri√®re-plan")}).catch(t=>{console.warn("‚ö†Ô∏è [loadAgentData] Erreur mise √† jour API (non critique):",t)}));return}if(_.value&&_.value!=="unknown"){console.log("üåê [loadAgentData] R√©cup√©ration depuis API pour ID:",_.value);try{const t=await le(_.value);if(t.success){console.log("‚úÖ [loadAgentData] Donn√©es r√©cup√©r√©es depuis API"),a.value=!0;return}else throw new Error(t.error||"Erreur API")}catch(t){throw console.warn("‚ö†Ô∏è [loadAgentData] Erreur API:",t),t}}console.error("‚ùå [loadAgentData] Aucune donn√©e agent disponible"),ye("Impossible de charger les donn√©es de l'agent. Veuillez r√©essayer.")}catch(o){console.error("‚ùå [loadAgentData] Erreur globale:",o),a.value=!1,ye("Erreur lors du chargement des donn√©es de l'agent")}finally{re.value=!1}},He=o=>o.replace(/([\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}])/gu,'<span class="emoji">$1</span>').replace(/\*\*(.*?)\*\*/g,'<strong class="font-semibold text-gray-900">$1</strong>').replace(/\*(.*?)\*/g,'<em class="italic text-gray-700">$1</em>').replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank" class="text-blue-600 underline hover:text-blue-800 transition-colors">$1</a>').replace(/\n\n/g,'<br><br class="my-2">').replace(/\n/g,'<br class="my-1">').replace(/^\- (.*)/gm,'<span class="block ml-2 relative"><span class="absolute -ml-2 text-blue-600">‚Ä¢</span>$1</span>').replace(/(\d+(?:[.,]\d{2})?\s*(?:FCFA|‚Ç¨|USD|\$))/g,'<span class="font-semibold text-green-600 bg-green-50 px-1 rounded">$1</span>'),Ke=o=>{s.value.widget.primaryColor=o,V()},he=x("idle"),V=()=>{console.log("üé® Widget configuration updated:",s.value.widget),he.value!=="syncing"&&(he.value="syncing",setTimeout(()=>{he.value="synced",setTimeout(()=>{he.value="idle"},2e3)},500))},Ge=()=>{confirm("√ätes-vous s√ªr de vouloir r√©initialiser la configuration du widget ?")&&(s.value.widget={buttonText:"Parler √† un conseiller",primaryColor:"#3B82F6",position:"above-cta",widgetSize:"medium",theme:"modern",borderRadius:"md",animation:"fade",autoOpen:!1,showAvatar:!0,soundEnabled:!0,mobileOptimized:!0,isActive:!0,language:"fr"},V(),B.value="‚úÖ Configuration du widget r√©initialis√©e !",setTimeout(()=>{B.value=null},3e3))},Je=()=>{if(s.value.agent.name){const o=s.value.agent.title?`${s.value.agent.name} ${s.value.agent.title}`:s.value.agent.name,t=encodeURIComponent(o),n=s.value.widget?.primaryColor?.replace("#","")||"3B82F6";s.value.agent.avatar=`https://ui-avatars.com/api/?name=${t}&background=${n}&color=fff&size=200&rounded=true`,console.log("‚úÖ Avatar g√©n√©r√© pour:",o)}},Ye=o=>{const t=o.target,n=encodeURIComponent(s.value.agent.name||"Agent");t.src=`https://ui-avatars.com/api/?name=${n}&background=6B7280&color=fff&size=200&rounded=true`},Qe=o=>({none:"0px",sm:"8px",md:"12px",lg:"16px",full:"50px"})[o]||"12px",Xe=o=>({small:"8px 16px",medium:"12px 24px",large:"16px 32px"})[o]||"12px 24px",Ze=o=>({small:"13px",medium:"15px",large:"17px"})[o]||"15px",et=o=>({"above-cta":"Au-dessus du CTA","below-cta":"En-dessous du CTA","beside-cta":"√Ä c√¥t√© du CTA","bottom-right":"Coin bas droite","bottom-left":"Coin bas gauche"})[o]||o,tt=o=>({small:"Petit",medium:"Moyen",large:"Grand"})[o]||o,st=()=>{if(!m.value){De("upsell");return}s.value.agent.config.upsellEnabled=!s.value.agent.config.upsellEnabled},ot=()=>{if(!m.value){De("urgency");return}s.value.agent.config.urgencyEnabled=!s.value.agent.config.urgencyEnabled},De=o=>{alert(`üîí ${{upsell:"Propositions d'upsell intelligentes",urgency:"Cr√©ation d'urgence (FOMO)"}[o]} est une fonctionnalit√© r√©serv√©e au plan Pro.

Passez au plan Pro pour d√©bloquer toutes les fonctionnalit√©s avanc√©es de ChatSeller.`)},nt=async()=>{f.value=!0,p.value=[...s.value.agent.config.linkedKnowledgeBase||[]],await be()},we=()=>{f.value=!1,p.value=[]},at=async()=>{c.value=!0;try{(await ue(_.value,p.value)).success&&(s.value.agent.config.linkedKnowledgeBase=[...p.value],await le(_.value),B.value="‚úÖ Base de connaissances mise √† jour avec succ√®s!",we(),setTimeout(()=>{B.value=null},3e3))}catch(o){console.error("‚ùå Erreur sauvegarde KB:",o)}finally{c.value=!1}},Ie=async()=>{if(!U.value.trim()||N.value)return;const o=U.value.trim();U.value="",N.value=!0;const t={id:Date.now().toString(),role:"user",content:o,timestamp:new Date};j.value.push(t);const n={id:(Date.now()+1).toString(),role:"assistant",content:"",timestamp:new Date,loading:!0};j.value.push(n);const k=Date.now();try{console.log("üß™ [TEST AI] D√©but test avec agent:",_.value),console.log("üß™ [TEST AI] Message:",o);const A=await G(o,_.value);console.log("üì• [TEST AI] R√©sultat complet:",A);const q=Date.now()-k;if(ee.value.push(q),A.success){const z=j.value.findIndex(se=>se.loading);z!==-1&&(j.value[z]={id:Date.now().toString(),role:"assistant",content:A.message,timestamp:new Date,provider:A.provider||s.value.agent.config.aiProvider||"openai",responseTime:q}),console.log("‚úÖ [TEST AI] Message IA ajout√© avec succ√®s")}else throw new Error(A.error||"Erreur lors du test IA")}catch(A){console.error("‚ùå [TEST AI] Erreur compl√®te:",A);const q=j.value.findIndex(z=>z.loading);if(q!==-1){const z=s.value.agent.name||"Assistant",se=s.value.agent.title||"Conseiller";let ie="";const ke=o.toLowerCase();ke.includes("prix")||ke.includes("co√ªt")?ie=`Merci pour votre question sur les tarifs ! üí∞

Je suis **${z}**, votre ${se}. Je vous mets en relation avec notre √©quipe pour vous donner les informations les plus pr√©cises.

Y a-t-il autre chose que je puisse vous aider ? üòä`:ke.includes("acheter")||ke.includes("commander")?ie=`Parfait ! Je vais vous aider √† finaliser votre commande. ‚ú®

Pouvez-vous me donner plus de d√©tails sur ce qui vous int√©resse ? üì¶`:ie=`Merci pour votre question ! Je suis **${z}**, ${se}.

Je vous mets en relation avec notre √©quipe pour vous donner les meilleures informations.

Y a-t-il autre chose que je puisse vous aider ? üòä`,j.value[q]={id:Date.now().toString(),role:"assistant",content:ie,timestamp:new Date,provider:s.value.agent.config.aiProvider||"openai",responseTime:Date.now()-k},console.log("‚ö†Ô∏è [TEST AI] R√©ponse simul√©e utilis√©e avec agent:",z)}}finally{N.value=!1,await ft(),ct()}},lt=o=>{const t={greeting:"Bonjour",product_info:"Pouvez-vous me parler de ce jeu de cartes ?",purchase_intent:"Je voudrais commander ce jeu",objection:"C'est un peu cher pour moi",support:"Comment √ßa fonctionne exactement ?"};U.value=t[o.id]||o.message,Ie()},Se=()=>{j.value=[],ee.value=[];const o=s.value.agent.name||S.value?.agent?.name||"Assistant IA",t=s.value.agent.title||S.value?.agent?.title||H(s.value.agent.type||"general"),n=s.value.agent.productType||"auto",k=ve(n);console.log("üß™ [PLAYGROUND] Initialisation chat avec:",{name:o,title:t,type:s.value.agent.type,productType:n,hasLocalConfig:!!s.value.agent.name,hasAgentConfig:!!S.value?.agent?.name});let A="";if(s.value.agent.welcomeMessage)A=s.value.agent.welcomeMessage;else{const q=n!=="auto"?`notre ${k.toLowerCase().replace("üéØ","").replace("üéÆ","jeu").replace("üìö","livre").replace("üéì","formation").replace("üì±","smartphone").replace("üíª","ordinateur").replace("üëó","v√™tement").replace("üîß","service").replace("üíé","bijou").replace("üì¶","produit").trim()} de test`:"ce produit de d√©monstration";A=`Bonjour ! üëã Je suis **${o}**, ${t}.

Je vois que vous vous int√©ressez √† ${q}. Excellent choix ! ‚ú®

Comment puis-je vous aider ? üòä

*Note : Ceci est un aper√ßu de test. Sur votre site, je d√©tecterai automatiquement vos vrais produits.*`}j.value.push({id:Date.now().toString(),role:"assistant",content:A,timestamp:new Date,provider:s.value.agent.config.aiProvider||"openai"}),console.log("‚úÖ [PLAYGROUND] Chat initialis√© avec message d'accueil coh√©rent:",A.substring(0,50))},rt=async()=>{(await fe(_.value,{agent:s.value.agent,widget:s.value.widget})).success&&(B.value="‚úÖ Configuration sauvegard√©e et synchronis√©e avec succ√®s !",setTimeout(()=>{B.value=null},3e3))},it=async()=>{try{if(!Q.value)throw new Error("Code d'int√©gration non disponible");await navigator.clipboard.writeText(Q.value),r.value=!0,B.value="‚úÖ Code d'int√©gration copi√© dans le presse-papiers !",setTimeout(()=>{r.value=!1,B.value=null},3e3)}catch(o){console.error("‚ùå Erreur copie:",o),ye("Impossible de copier le code d'int√©gration"),setTimeout(()=>{$e()},3e3)}},Ue=o=>({manual:"üìù Manuel",file:"üìÑ Fichier",url:"üîó URL",website:"üåê Site web"})[o]||o,pe=(o,t)=>{const n=o.replace("#",""),k=parseInt(n.substr(0,2),16),A=parseInt(n.substr(2,2),16),q=parseInt(n.substr(4,2),16),z=se=>{const ie=se+se*t/100;return Math.max(0,Math.min(255,Math.round(ie)))};return`rgb(${z(k)}, ${z(A)}, ${z(q)})`},dt=()=>{s.value.agent.config.specificInstructions||(s.value.agent.config.specificInstructions=[]),s.value.agent.config.specificInstructions.push(""),E()},ut=o=>{s.value.agent.config.specificInstructions&&(s.value.agent.config.specificInstructions.splice(o,1),E())},E=()=>{console.log("üîÑ [CONFIG CHANGE] Changement d√©tect√©, d√©clenchement auto-save"),Te()},ct=()=>{const o=document.querySelector(".overflow-y-auto");o&&(o.scrollTop=o.scrollHeight)};return Me(()=>S.value,o=>{if(o&&o.agent&&o.agent.id){console.log("üîÑ [watcher] Mise √† jour localConfig avec donn√©es API");try{s.value.agent={id:o.agent.id,name:o.agent.name,title:o.agent.title||H(o.agent.type||"general"),type:o.agent.type||"general",personality:o.agent.personality||"friendly",productType:o.agent.productType||"auto",description:o.agent.description||"",welcomeMessage:o.agent.welcomeMessage||"",fallbackMessage:o.agent.fallbackMessage||"",avatar:o.agent.avatar||"",isActive:o.agent.isActive??!0,config:{collectName:o.agent.config?.collectName??!0,collectPhone:o.agent.config?.collectPhone??!0,collectEmail:o.agent.config?.collectEmail??!0,collectAddress:o.agent.config?.collectAddress??!1,collectPayment:o.agent.config?.collectPayment??!0,upsellEnabled:o.agent.config?.upsellEnabled??!1,urgencyEnabled:o.agent.config?.urgencyEnabled??!1,specificInstructions:o.agent.config?.specificInstructions?[...o.agent.config.specificInstructions]:[],linkedKnowledgeBase:o.agent.config?.linkedKnowledgeBase?[...o.agent.config.linkedKnowledgeBase]:[],aiProvider:o.agent.config?.aiProvider||"openai",temperature:o.agent.config?.temperature||.7,maxTokens:o.agent.config?.maxTokens||1e3,systemPrompt:o.agent.config?.systemPrompt||"",tone:o.agent.config?.tone||"friendly"},stats:o.agent.stats||{conversations:0,conversions:0},knowledgeBase:o.agent.knowledgeBase?o.agent.knowledgeBase.map(t=>({id:t.id,title:t.title,contentType:t.contentType,isActive:t.isActive,tags:[...t.tags]})):[]},o.widget&&(s.value.widget={buttonText:o.widget.buttonText||"Parler √† un conseiller",primaryColor:o.widget.primaryColor||"#3B82F6",position:o.widget.position||"above-cta",widgetSize:o.widget.widgetSize||"medium",theme:o.widget.theme||"modern",borderRadius:["none","sm","md","lg","full"].includes(o.widget.borderRadius)?o.widget.borderRadius:"md",animation:o.widget.animation||"fade",autoOpen:o.widget.autoOpen??!1,showAvatar:o.widget.showAvatar??!0,soundEnabled:o.widget.soundEnabled??!0,mobileOptimized:o.widget.mobileOptimized??!0,isActive:o.widget.isActive??!0,language:o.widget.language||"fr"}),a.value=!0,console.log("‚úÖ [watcher] localConfig mis √† jour avec nouveaux champs")}catch(t){console.error("‚ùå [watcher] Erreur mise √† jour localConfig:",t),ye("Erreur lors de la mise √† jour de la configuration")}}},{immediate:!0,deep:!0}),Me(()=>Q.value,(o,t)=>{console.log("üîÑ [WATCH] Code d'int√©gration chang√©:"),console.log('   - Contient "Chargement"?:',o?.includes("Chargement")),console.log("   - Longueur:",o?.length||0),o&&!o.includes("Chargement")&&console.log("‚úÖ [WATCH] Code d'int√©gration pr√™t !")},{immediate:!0}),Me(()=>s.value,o=>{o&&o.agent&&o.agent.name&&E()},{deep:!0}),pt(async()=>{if(console.log("üîß [DEBUG] Variables d'environnement:"),console.log("  - NODE_ENV:","production"),console.log("  - API URL:",M.public.apiBaseUrl),console.log("  - Widget URL:",M.public.widgetUrl),console.log("  - App URL:",M.public.appUrl),console.log("  - Environment:",M.public.environment),console.log("üöÄ [agent-config] Page mont√©e, chargement config agent..."),I.query.tab&&typeof I.query.tab=="string"){const o=I.query.tab;["agent","widget","playground","integration"].includes(o)&&(T.value=o,console.log(`üéØ Onglet automatique activ√©: ${o}`),o==="playground"&&(Se(),console.log("üß™ Playground initialis√© automatiquement")))}Se(),await We(),await be()}),xt({title:F(()=>`${ge.value} - Configuration - ChatSeller`)}),(o,t)=>(u(),d("div",Ct,[e("div",At,[e("div",Tt,[e("div",_t,[e("div",Et,[e("button",{onClick:qe,class:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors flex-shrink-0"},t[36]||(t[36]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),e("div",It,[e("h1",St,l(ge.value)+" - Configuration ",1),e("p",Mt,[t[40]||(t[40]=w(" Vendeur IA ‚Ä¢ Widget ‚Ä¢ Test ‚Ä¢ Int√©gration ",-1)),C(X)==="syncing"?(u(),d("span",Pt,t[37]||(t[37]=[e("svg",{class:"w-4 h-4 mr-1 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),w(" Synchronisation... ",-1)]))):C(X)==="synced"?(u(),d("span",jt,t[38]||(t[38]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),w(" Synchronis√© ",-1)]))):h("",!0),C(Ae)?(u(),d("span",Bt,t[39]||(t[39]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),w(" Sauvegarde dans 2min ",-1)]))):h("",!0),C(ae)?(u(),d("span",zt," Sauv√© auto: "+l(C(K)(C(ae))),1)):h("",!0)])])]),e("div",$t,[e("div",Dt,[b(e("select",{"onUpdate:modelValue":t[0]||(t[0]=n=>T.value=n),class:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"},[(u(),d(R,null,L(Be,n=>e("option",{key:n.id,value:n.id},l(n.icon)+" "+l(n.name),9,Ut)),64))],512),[[$,T.value]])]),e("div",Vt,[(u(),d(R,null,L(Be,n=>e("button",{key:n.id,onClick:k=>T.value=n.id,class:v(["px-2 lg:px-3 py-1.5 text-xs lg:text-sm font-medium rounded-md transition-colors whitespace-nowrap",T.value===n.id?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"])},[e("span",Lt,l(n.icon),1),e("span",Ot,l(n.name),1)],10,Rt)),64))]),e("span",Nt,"ID: "+l(_.value.substring(0,8))+"...",1),e("button",{onClick:rt,disabled:C(g)||!C(ne),class:"inline-flex items-center justify-center px-3 lg:px-4 py-2 bg-blue-600 text-white text-xs lg:text-sm font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors"},[C(g)?(u(),d("svg",qt,t[41]||(t[41]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))):(u(),d("svg",Wt,t[42]||(t[42]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"},null,-1)]))),e("span",Ht,l(C(g)?"Sauvegarde...":"Sauvegarder"),1)],8,Ft)])])])]),e("div",Kt,[B.value?(u(),d("div",Gt,[e("div",Jt,[t[43]||(t[43]=e("svg",{class:"w-5 h-5 text-green-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("p",Yt,l(B.value),1)])])):h("",!0),ze.value?(u(),d("div",Qt,[e("div",Xt,[e("div",Zt,[t[44]||(t[44]=e("svg",{class:"w-5 h-5 text-red-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("p",es,l(ze.value),1)]),e("button",{onClick:$e,class:"text-red-400 hover:text-red-600"},t[45]||(t[45]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):h("",!0)]),re.value?(u(),d("div",ts,t[46]||(t[46]=[e("div",{class:"text-center"},[e("svg",{class:"animate-spin h-6 lg:h-8 w-6 lg:w-8 text-blue-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})]),e("p",{class:"text-gray-600 text-sm lg:text-base"},"Chargement de la configuration...")],-1)]))):C(S)||a.value?(u(),d("div",ss,[T.value==="agent"?(u(),d("div",os,[e("div",ns,[e("div",as,[t[62]||(t[62]=e("h3",{class:"text-base lg:text-lg font-semibold text-gray-900 mb-4 lg:mb-6"},"ü§ñ Informations du Vendeur IA",-1)),e("div",ls,[e("div",rs,[e("div",null,[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom du Vendeur IA *",-1)),b(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>s.value.agent.name=n),onInput:E,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm lg:text-base",placeholder:"Ex: Sarah, Marc, Lisa, Sophie..."},null,544),[[W,s.value.agent.name]]),t[48]||(t[48]=e("p",{class:"text-xs text-gray-500 mt-1"}," Ce nom appara√Ætra dans les conversations ",-1))]),e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Titre/Fonction *",-1)),b(e("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>s.value.agent.title=n),onInput:E,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm lg:text-base",placeholder:"Ex: Conseill√®re produit, Vendeur expert..."},null,544),[[W,s.value.agent.title]]),t[50]||(t[50]=e("p",{class:"text-xs text-gray-500 mt-1"}," Affich√© sous le nom dans le chat ",-1))])]),e("div",null,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Avatar du Vendeur IA",-1)),e("div",is,[e("div",ds,[s.value.agent.avatar?(u(),d("img",{key:0,src:s.value.agent.avatar,alt:s.value.agent.name,class:"w-full h-full object-cover",onError:Ye},null,40,us)):(u(),d("div",cs,l(s.value.agent.name?s.value.agent.name.charAt(0).toUpperCase():"?"),1))]),e("div",gs,[b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=n=>s.value.agent.avatar=n),onInput:E,type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm",placeholder:"https://example.com/avatar.jpg (optionnel)"},null,544),[[W,s.value.agent.avatar]]),t[51]||(t[51]=e("p",{class:"text-xs text-gray-500 mt-1"}," Laissez vide pour utiliser un avatar g√©n√©r√© automatiquement ",-1))]),e("button",{onClick:Je,type:"button",class:"px-3 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium"}," G√©n√©rer ")])]),e("div",ps,[e("div",null,[t[54]||(t[54]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Type de vendeur",-1)),b(e("select",{"onUpdate:modelValue":t[4]||(t[4]=n=>s.value.agent.type=n),onChange:E,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm lg:text-base"},t[53]||(t[53]=[e("option",{value:"general"},"üéØ Vendeur g√©n√©raliste",-1),e("option",{value:"product_specialist"},"üõçÔ∏è Sp√©cialiste produit",-1),e("option",{value:"support"},"üÜò Support & SAV",-1),e("option",{value:"upsell"},"üíé Upsell Premium",-1)]),544),[[$,s.value.agent.type]])]),e("div",null,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Personnalit√©",-1)),b(e("select",{"onUpdate:modelValue":t[5]||(t[5]=n=>s.value.agent.personality=n),onChange:E,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm lg:text-base"},t[55]||(t[55]=[e("option",{value:"professional"},"üíº Professionnel",-1),e("option",{value:"friendly"},"üòä Amical",-1),e("option",{value:"expert"},"üéì Expert technique",-1),e("option",{value:"casual"},"üòé D√©contract√©",-1)]),544),[[$,s.value.agent.personality]])])]),e("div",null,[t[57]||(t[57]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[w(" Type de produit propos√© "),e("span",{class:"ml-1 text-xs text-gray-500"},"(pour personnaliser les r√©ponses)")],-1)),b(e("select",{"onUpdate:modelValue":t[6]||(t[6]=n=>s.value.agent.productType=n),onChange:E,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm lg:text-base"},[(u(!0),d(R,null,L(C(de)(),n=>(u(),d("option",{key:n.value,value:n.value},l(n.label),9,ms))),128))],544),[[$,s.value.agent.productType]]),e("p",vs,l(C(de)().find(n=>n.value===s.value.agent.productType)?.description||"S√©lectionnez le type de produit"),1)]),e("div",null,[e("label",fs,[t[58]||(t[58]=w(" Intelligence Artificielle ",-1)),m.value?h("",!0):(u(),d("span",bs," Plan Pro "))]),e("div",xs,[e("div",null,[b(e("select",{"onUpdate:modelValue":t[7]||(t[7]=n=>s.value.agent.config.aiProvider=n),disabled:!m.value,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm lg:text-base disabled:bg-gray-100 disabled:text-gray-500"},[t[59]||(t[59]=e("option",{value:"openai"},"ü§ñ GPT-4o-mini (Gratuit)",-1)),e("option",{value:"claude",disabled:!m.value},"üß† GPT-4.1 (Pro)",8,hs),e("option",{value:"claude",disabled:!m.value},"üß† Claude Sonnet (Pro)",8,ws)],8,ys),[[$,s.value.agent.config.aiProvider]])]),e("div",null,[b(e("select",{"onUpdate:modelValue":t[8]||(t[8]=n=>s.value.agent.config.temperature=n),disabled:!m.value,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm lg:text-base disabled:bg-gray-100 disabled:text-gray-500"},t[60]||(t[60]=[e("option",{value:.3},"üéØ Pr√©cis (0.3)",-1),e("option",{value:.7},"‚öñÔ∏è √âquilibr√© (0.7)",-1),e("option",{value:1},"üé® Cr√©atif (1.0)",-1)]),8,ks),[[$,s.value.agent.config.temperature]])])]),m.value?h("",!0):(u(),d("p",Cs," üí° Passez au plan Pro pour acc√©der aux autres IA et aux param√®tres avanc√©s "))]),e("div",null,[t[61]||(t[61]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Message d'accueil *",-1)),b(e("textarea",{"onUpdate:modelValue":t[9]||(t[9]=n=>s.value.agent.welcomeMessage=n),onChange:E,rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm lg:text-base",placeholder:"Bonjour ! Je suis Sarah, sp√©cialiste produits. Comment puis-je vous aider √† trouver le produit parfait ?"},null,544),[[W,s.value.agent.welcomeMessage]]),e("div",As,[e("div",Ts,[e("div",_s,[e("span",Es,l(s.value.agent.name?s.value.agent.name.charAt(0).toUpperCase():"IA"),1)]),e("div",Is,[e("div",Ss,[e("strong",null,l(s.value.agent.name||"Nom du vendeur"),1),s.value.agent.title?(u(),d("span",Ms," ‚Ä¢ "+l(s.value.agent.title),1)):h("",!0)]),e("p",Ps,l(s.value.agent.welcomeMessage||"Tapez votre message d'accueil..."),1)])])])])])]),e("div",js,[e("div",{class:"flex items-center justify-between mb-4 lg:mb-6"},[t[64]||(t[64]=e("h3",{class:"text-base lg:text-lg font-semibold text-gray-900"},"üìö Base de Connaissances",-1)),e("button",{onClick:nt,class:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white text-xs font-medium rounded-lg hover:bg-blue-700 transition-colors"},t[63]||(t[63]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),w(" G√©rer ",-1)]))]),te.value.length===0?(u(),d("div",Bs,t[65]||(t[65]=[e("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"text-gray-600 text-sm"},"Aucun document li√© √† cet agent",-1),e("p",{class:"text-gray-500 text-xs mt-1"},"Liez des documents pour am√©liorer les r√©ponses de votre agent",-1)]))):(u(),d("div",zs,[(u(!0),d(R,null,L(te.value,n=>(u(),d("div",{key:n.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",$s,[t[66]||(t[66]=e("div",{class:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",null,[e("p",Ds,l(n.title),1),e("p",Us,l(Ue(n.contentType)),1)])]),e("span",{class:v(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",n.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},l(n.isActive?"Actif":"Inactif"),3)]))),128))]))]),e("div",Vs,[t[78]||(t[78]=e("h3",{class:"text-base lg:text-lg font-semibold text-gray-900 mb-4 lg:mb-6"},"üíº Configuration Commerciale",-1)),e("div",Rs,[e("div",null,[t[71]||(t[71]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Informations √† collecter",-1)),e("div",Ls,[e("label",Os,[b(e("input",{"onUpdate:modelValue":t[10]||(t[10]=n=>s.value.agent.config.collectName=n),onInput:E,type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,544),[[me,s.value.agent.config.collectName]]),t[67]||(t[67]=e("span",{class:"ml-2 text-sm text-gray-700"},"üë§ Nom complet",-1))]),e("label",Ns,[b(e("input",{"onUpdate:modelValue":t[11]||(t[11]=n=>s.value.agent.config.collectPhone=n),onInput:E,type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,544),[[me,s.value.agent.config.collectPhone]]),t[68]||(t[68]=e("span",{class:"ml-2 text-sm text-gray-700"},"üìû T√©l√©phone",-1))]),e("label",Fs,[b(e("input",{"onUpdate:modelValue":t[12]||(t[12]=n=>s.value.agent.config.collectEmail=n),onInput:E,type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,544),[[me,s.value.agent.config.collectEmail]]),t[69]||(t[69]=e("span",{class:"ml-2 text-sm text-gray-700"},"üìß Email",-1))]),e("label",qs,[b(e("input",{"onUpdate:modelValue":t[13]||(t[13]=n=>s.value.agent.config.collectAddress=n),onInput:E,type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,544),[[me,s.value.agent.config.collectAddress]]),t[70]||(t[70]=e("span",{class:"ml-2 text-sm text-gray-700"},"üè† Adresse",-1))])])]),e("div",Ws,[e("div",Hs,[e("div",Ks,[e("div",Gs,[t[72]||(t[72]=e("h4",{class:"text-sm font-medium text-gray-900"},"üíé Propositions d'upsell",-1)),m.value?h("",!0):(u(),d("span",Js," Plan Pro "))]),t[73]||(t[73]=e("p",{class:"text-xs text-gray-500 mt-1"},"L'agent propose des produits compl√©mentaires",-1)),m.value?h("",!0):(u(),d("p",Ys," üí° Fonctionnalit√© avanc√©e r√©serv√©e au plan Pro "))]),e("button",{onClick:st,disabled:!m.value,class:v(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",s.value.agent.config.upsellEnabled&&m.value?"bg-blue-600":"bg-gray-200",m.value?"":"cursor-not-allowed opacity-50"])},[e("span",{class:v(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.value.agent.config.upsellEnabled&&m.value?"translate-x-5":"translate-x-0"])},null,2)],10,Qs)]),e("div",Xs,[e("div",Zs,[e("div",eo,[t[74]||(t[74]=e("h4",{class:"text-sm font-medium text-gray-900"},"‚ö° Cr√©ation d'urgence (FOMO)",-1)),m.value?h("",!0):(u(),d("span",to," Plan Pro "))]),t[75]||(t[75]=e("p",{class:"text-xs text-gray-500 mt-1"},"Stock limit√©, offres temporaires",-1)),m.value?h("",!0):(u(),d("p",so," üí° Fonctionnalit√© avanc√©e r√©serv√©e au plan Pro "))]),e("button",{onClick:ot,disabled:!m.value,class:v(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",s.value.agent.config.urgencyEnabled&&m.value?"bg-blue-600":"bg-gray-200",m.value?"":"cursor-not-allowed opacity-50"])},[e("span",{class:v(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.value.agent.config.urgencyEnabled&&m.value?"translate-x-5":"translate-x-0"])},null,2)],10,oo)])]),e("div",null,[t[77]||(t[77]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Instructions sp√©cifiques",-1)),e("div",no,[(u(!0),d(R,null,L(s.value.agent.config.specificInstructions||[],(n,k)=>(u(),d("div",{key:k,class:"flex items-center space-x-2"},[b(e("input",{"onUpdate:modelValue":A=>s.value.agent.config.specificInstructions[k]=A,onInput:E,type:"text",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Ex: Toujours demander le pr√©nom du client"},null,40,ao),[[W,s.value.agent.config.specificInstructions[k]]]),e("button",{onClick:A=>ut(k),class:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded",title:"Supprimer cette instruction"},t[76]||(t[76]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,lo)]))),128)),e("button",{onClick:dt,class:"w-full p-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-blue-300 hover:text-blue-600 transition-colors text-sm"}," + Ajouter une instruction ")])])])])]),e("div",ro,[e("div",io,[t[87]||(t[87]=e("h3",{class:"text-base lg:text-lg font-semibold text-gray-900 mb-4"},"üìä Statut du Vendeur IA",-1)),e("div",uo,[e("div",co,[t[79]||(t[79]=e("span",{class:"font-medium"},"ID:",-1)),e("span",go,l(_.value.substring(0,8))+"...",1)]),e("div",po,[t[80]||(t[80]=e("span",{class:"font-medium"},"Type:",-1)),e("span",mo,l(C(H)(s.value.agent.type)),1)]),e("div",vo,[t[81]||(t[81]=e("span",{class:"font-medium"},"Titre:",-1)),e("span",fo,l(s.value.agent.title||C(H)(s.value.agent.type)),1)]),e("div",bo,[t[82]||(t[82]=e("span",{class:"font-medium"},"Fournisseur d'IA:",-1)),e("span",xo,l(s.value.agent.config.aiProvider||"OpenAI"),1)]),e("div",yo,[t[83]||(t[83]=e("span",{class:"font-medium"},"Base de connaissances:",-1)),e("span",ho,l(te.value.length)+" docs",1)]),e("div",wo,[t[84]||(t[84]=e("span",{class:"font-medium"},"Configuration:",-1)),e("span",{class:v(C(ne)?"text-green-600":"text-red-600")},l(C(ne)?"‚úÖ Valide":"‚ùå Invalide"),3)]),e("div",ko,[t[85]||(t[85]=e("span",{class:"font-medium"},"Statut:",-1)),e("span",{class:v(s.value.agent.isActive?"text-green-600":"text-red-600")},l(s.value.agent.isActive?"üü¢ Actif":"üî¥ Inactif"),3)])]),e("div",Co,[e("div",Ao,[t[86]||(t[86]=e("span",{class:"text-sm font-medium"},"Vendeur IA actif",-1)),e("button",{onClick:t[14]||(t[14]=n=>s.value.agent.isActive=!s.value.agent.isActive),class:v(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",s.value.agent.isActive?"bg-blue-600":"bg-gray-200"])},[e("span",{class:v(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.value.agent.isActive?"translate-x-5":"translate-x-0"])},null,2)],2)])])]),e("div",To,[t[91]||(t[91]=e("h3",{class:"text-base lg:text-lg font-semibold text-gray-900 mb-4"},"üìà Statistiques",-1)),e("div",_o,[e("div",Eo,[t[88]||(t[88]=e("span",{class:"text-sm text-gray-600"},"Conversations",-1)),e("span",Io,l(s.value.agent.stats.conversations),1)]),e("div",So,[t[89]||(t[89]=e("span",{class:"text-sm text-gray-600"},"Conversions",-1)),e("span",Mo,l(s.value.agent.stats.conversions),1)]),e("div",Po,[t[90]||(t[90]=e("span",{class:"text-sm text-gray-600"},"Taux de conversion",-1)),e("span",jo,l(s.value.agent.stats.conversations>0?Math.round(s.value.agent.stats.conversions/s.value.agent.stats.conversations*100):0)+"% ",1)])])]),e("div",Bo,[t[92]||(t[92]=e("h3",{class:"text-base lg:text-lg font-semibold text-gray-900 mb-4"},"‚ö° Actions Rapides",-1)),e("div",zo,[e("button",{onClick:t[15]||(t[15]=n=>T.value="playground"),class:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm lg:text-base"}," üß™ Tester le Vendeur IA "),e("button",{onClick:t[16]||(t[16]=n=>T.value="widget"),class:"w-full px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors text-sm lg:text-base"}," üé® Configurer Widget "),e("button",{onClick:t[17]||(t[17]=n=>T.value="integration"),class:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm lg:text-base"}," üîó Code d'Int√©gration ")])])])])):h("",!0),T.value==="widget"?(u(),d("div",$o,[e("div",Do,[e("div",Uo,[t[103]||(t[103]=e("h3",{class:"text-base lg:text-lg font-semibold text-gray-900 mb-4 lg:mb-6"},"üé® Apparence du Widget",-1)),e("div",Vo,[e("div",null,[t[93]||(t[93]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Texte du bouton *",-1)),b(e("input",{"onUpdate:modelValue":t[18]||(t[18]=n=>s.value.widget.buttonText=n),onInput:V,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm lg:text-base",placeholder:"Ex: Parler √† un conseiller"},null,544),[[W,s.value.widget.buttonText]])]),e("div",null,[t[94]||(t[94]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Couleur principale",-1)),e("div",Ro,[b(e("input",{"onUpdate:modelValue":t[19]||(t[19]=n=>s.value.widget.primaryColor=n),onInput:V,type:"color",class:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"},null,544),[[W,s.value.widget.primaryColor]]),b(e("input",{"onUpdate:modelValue":t[20]||(t[20]=n=>s.value.widget.primaryColor=n),onInput:V,type:"text",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"#3B82F6"},null,544),[[W,s.value.widget.primaryColor]]),e("div",Lo,[(u(!0),d(R,null,L(y.value,n=>(u(),d("button",{key:n,onClick:k=>Ke(n),style:Y({backgroundColor:n}),class:v(["w-8 h-8 rounded-lg border-2 hover:scale-110 transition-transform",s.value.widget.primaryColor===n?"border-gray-900":"border-gray-300"]),title:n},null,14,Oo))),128))])])]),e("div",No,[e("div",null,[t[96]||(t[96]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Position du widget",-1)),b(e("select",{"onUpdate:modelValue":t[21]||(t[21]=n=>s.value.widget.position=n),onChange:V,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm lg:text-base"},t[95]||(t[95]=[Pe('<option value="above-cta" data-v-2aecf8e4>Au-dessus du bouton d&#39;achat</option><option value="below-cta" data-v-2aecf8e4>En-dessous du bouton d&#39;achat</option><option value="beside-cta" data-v-2aecf8e4>√Ä c√¥t√© du bouton d&#39;achat</option><option value="bottom-right" data-v-2aecf8e4>Coin en bas √† droite</option><option value="bottom-left" data-v-2aecf8e4>Coin en bas √† gauche</option>',5)]),544),[[$,s.value.widget.position]])]),e("div",null,[t[98]||(t[98]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Th√®me",-1)),b(e("select",{"onUpdate:modelValue":t[22]||(t[22]=n=>s.value.widget.theme=n),onChange:V,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm lg:text-base"},t[97]||(t[97]=[e("option",{value:"modern"},"Moderne",-1),e("option",{value:"minimal"},"Minimaliste",-1),e("option",{value:"brand_adaptive"},"Adaptatif √† la marque",-1)]),544),[[$,s.value.widget.theme]])])]),e("div",Fo,[e("div",null,[t[100]||(t[100]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Taille du widget",-1)),b(e("select",{"onUpdate:modelValue":t[23]||(t[23]=n=>s.value.widget.widgetSize=n),onChange:V,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm lg:text-base"},t[99]||(t[99]=[e("option",{value:"small"},"Petit",-1),e("option",{value:"medium"},"Moyen",-1),e("option",{value:"large"},"Grand",-1)]),544),[[$,s.value.widget.widgetSize]])]),e("div",null,[t[102]||(t[102]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Bordures",-1)),b(e("select",{"onUpdate:modelValue":t[24]||(t[24]=n=>s.value.widget.borderRadius=n),onChange:V,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm lg:text-base"},t[101]||(t[101]=[Pe('<option value="none" data-v-2aecf8e4>Aucune</option><option value="sm" data-v-2aecf8e4>L√©g√®res</option><option value="md" data-v-2aecf8e4>Moyennes</option><option value="lg" data-v-2aecf8e4>Arrondies</option><option value="xl" data-v-2aecf8e4>Tr√®s arrondies</option>',5)]),544),[[$,s.value.widget.borderRadius]])])])])]),e("div",qo,[t[108]||(t[108]=e("h3",{class:"text-base lg:text-lg font-semibold text-gray-900 mb-4 lg:mb-6"},"‚öôÔ∏è Comportement",-1)),e("div",Wo,[e("div",Ho,[t[104]||(t[104]=e("div",{class:"flex-1"},[e("h4",{class:"text-sm font-medium text-gray-900"},"Ouverture automatique"),e("p",{class:"text-xs text-gray-500 mt-1"},"Le chat s'ouvre automatiquement apr√®s quelques secondes")],-1)),e("button",{onClick:t[25]||(t[25]=n=>xe(()=>s.value.widget.autoOpen=!s.value.widget.autoOpen)),class:v(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",s.value.widget.autoOpen?"bg-blue-600":"bg-gray-200"])},[e("span",{class:v(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.value.widget.autoOpen?"translate-x-5":"translate-x-0"])},null,2)],2)]),e("div",Ko,[t[105]||(t[105]=e("div",{class:"flex-1"},[e("h4",{class:"text-sm font-medium text-gray-900"},"Afficher l'avatar"),e("p",{class:"text-xs text-gray-500 mt-1"},"Avatar du Vendeur IA dans les conversations")],-1)),e("button",{onClick:t[26]||(t[26]=n=>xe(()=>s.value.widget.showAvatar=!s.value.widget.showAvatar)),class:v(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",s.value.widget.showAvatar?"bg-blue-600":"bg-gray-200"])},[e("span",{class:v(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.value.widget.showAvatar?"translate-x-5":"translate-x-0"])},null,2)],2)]),e("div",Go,[t[106]||(t[106]=e("div",{class:"flex-1"},[e("h4",{class:"text-sm font-medium text-gray-900"},"Sons de notification"),e("p",{class:"text-xs text-gray-500 mt-1"},"Sons pour les nouveaux messages")],-1)),e("button",{onClick:t[27]||(t[27]=n=>xe(()=>s.value.widget.soundEnabled=!s.value.widget.soundEnabled)),class:v(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",s.value.widget.soundEnabled?"bg-blue-600":"bg-gray-200"])},[e("span",{class:v(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.value.widget.soundEnabled?"translate-x-5":"translate-x-0"])},null,2)],2)]),e("div",Jo,[t[107]||(t[107]=e("div",{class:"flex-1"},[e("h4",{class:"text-sm font-medium text-gray-900"},"Optimisation mobile"),e("p",{class:"text-xs text-gray-500 mt-1"},"Interface adapt√©e aux smartphones")],-1)),e("button",{onClick:t[28]||(t[28]=n=>xe(()=>s.value.widget.mobileOptimized=!s.value.widget.mobileOptimized)),class:v(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",s.value.widget.mobileOptimized?"bg-blue-600":"bg-gray-200"])},[e("span",{class:v(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.value.widget.mobileOptimized?"translate-x-5":"translate-x-0"])},null,2)],2)])])]),e("div",Yo,[t[113]||(t[113]=e("h3",{class:"text-base lg:text-lg font-semibold text-gray-900 mb-4 lg:mb-6"},"üåç Localisation",-1)),e("div",Qo,[e("div",null,[t[110]||(t[110]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Langue du widget",-1)),b(e("select",{"onUpdate:modelValue":t[29]||(t[29]=n=>s.value.widget.language=n),onChange:V,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm lg:text-base"},t[109]||(t[109]=[e("option",{value:"fr"},"üá´üá∑ Fran√ßais",-1),e("option",{value:"en"},"üá∫üá∏ English",-1)]),544),[[$,s.value.widget.language]])]),e("div",null,[t[112]||(t[112]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Animation d'apparition",-1)),b(e("select",{"onUpdate:modelValue":t[30]||(t[30]=n=>s.value.widget.animation=n),onChange:V,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm lg:text-base"},t[111]||(t[111]=[e("option",{value:"fade"},"Fondu",-1),e("option",{value:"slide"},"Glissement",-1),e("option",{value:"bounce"},"Rebond",-1),e("option",{value:"none"},"Aucune",-1)]),544),[[$,s.value.widget.animation]])])])])]),e("div",Xo,[e("div",Zo,[t[121]||(t[121]=e("h3",{class:"text-base lg:text-lg font-semibold text-gray-900 mb-4"},"üëÅÔ∏è Pr√©visualisation",-1)),e("div",en,[e("div",null,[t[115]||(t[115]=e("p",{class:"text-sm text-gray-600 mb-2"},"Bouton sur votre site :",-1)),e("div",tn,[e("button",{style:Y({backgroundColor:s.value.widget.primaryColor,borderRadius:Qe(s.value.widget.borderRadius),padding:Xe(s.value.widget.widgetSize),fontSize:Ze(s.value.widget.widgetSize)}),class:"w-full text-white font-semibold transition-all hover:opacity-90 flex items-center justify-center space-x-2"},[t[114]||(t[114]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a8.955 8.955 0 01-4.906-1.479L3 21l2.521-5.094A8.955 8.955 0 013 12c0-4.418 3.582-8 8-8s8 3.582 8 8z"})],-1)),e("span",null,l(s.value.widget.buttonText),1)],4)])]),e("div",null,[t[116]||(t[116]=e("p",{class:"text-sm text-gray-600 mb-2"},"Palette de couleurs :",-1)),e("div",sn,[e("div",{class:"w-8 h-8 rounded-lg border border-gray-300",style:Y({backgroundColor:s.value.widget.primaryColor}),title:`Principal: ${s.value.widget.primaryColor}`},null,12,on),e("div",{class:"w-8 h-8 rounded-lg border border-gray-300",style:Y({backgroundColor:pe(s.value.widget.primaryColor,-20)}),title:`Fonc√©: ${pe(s.value.widget.primaryColor,-20)}`},null,12,nn),e("div",{class:"w-8 h-8 rounded-lg border border-gray-300",style:Y({backgroundColor:pe(s.value.widget.primaryColor,80)}),title:`Clair: ${pe(s.value.widget.primaryColor,80)}`},null,12,an)])]),e("div",null,[t[120]||(t[120]=e("p",{class:"text-sm text-gray-600 mb-2"},"Responsive :",-1)),e("div",ln,[t[119]||(t[119]=e("div",{class:"flex items-center"},[e("svg",{class:"w-4 h-4 mr-1 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),e("span",null,"Desktop")],-1)),e("div",rn,[(u(),d("svg",{class:v(["w-4 h-4 mr-1",s.value.widget.mobileOptimized?"text-green-600":"text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[117]||(t[117]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]),2)),t[118]||(t[118]=e("span",null,"Mobile",-1))])])])])]),e("div",dn,[t[128]||(t[128]=e("h3",{class:"text-base lg:text-lg font-semibold text-gray-900 mb-4"},"üîß Informations",-1)),e("div",un,[e("div",cn,[t[122]||(t[122]=e("span",{class:"font-medium"},"Th√®me:",-1)),e("span",gn,l(s.value.widget.theme),1)]),e("div",pn,[t[123]||(t[123]=e("span",{class:"font-medium"},"Position:",-1)),e("span",mn,l(et(s.value.widget.position)),1)]),e("div",vn,[t[124]||(t[124]=e("span",{class:"font-medium"},"Taille:",-1)),e("span",fn,l(tt(s.value.widget.widgetSize)),1)]),e("div",bn,[t[125]||(t[125]=e("span",{class:"font-medium"},"Agent li√©:",-1)),e("span",xn,l(s.value.agent.name),1)]),e("div",yn,[t[126]||(t[126]=e("span",{class:"font-medium"},"Statut:",-1)),e("span",{class:v(s.value.widget.isActive?"text-green-600":"text-red-600")},l(s.value.widget.isActive?"üü¢ Actif":"üî¥ Inactif"),3)])]),e("div",hn,[e("div",wn,[t[127]||(t[127]=e("span",{class:"text-sm font-medium"},"Widget actif",-1)),e("button",{onClick:t[31]||(t[31]=n=>s.value.widget.isActive=!s.value.widget.isActive),class:v(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",s.value.widget.isActive?"bg-blue-600":"bg-gray-200"])},[e("span",{class:v(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.value.widget.isActive?"translate-x-5":"translate-x-0"])},null,2)],2)])])]),e("div",kn,[t[129]||(t[129]=e("h3",{class:"text-base lg:text-lg font-semibold text-gray-900 mb-4"},"‚ö° Actions",-1)),e("div",Cn,[e("button",{onClick:t[32]||(t[32]=n=>T.value="playground"),class:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm lg:text-base"}," üß™ Tester le Widget "),e("button",{onClick:Ge,class:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm lg:text-base"}," üîÑ R√©initialiser "),e("button",{onClick:t[33]||(t[33]=n=>T.value="integration"),class:"w-full px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors text-sm lg:text-base"}," üîó Obtenir le code ")])])])])):h("",!0),T.value==="playground"?(u(),d("div",An,[e("div",Tn,[e("div",{class:"px-4 lg:px-6 py-3 lg:py-4 text-white",style:Y({background:`linear-gradient(135deg, ${s.value.widget.primaryColor} 0%, ${pe(s.value.widget.primaryColor,-20)} 100%)`})},[e("div",_n,[e("div",En,[e("span",In,l(s.value.agent.name.charAt(0)),1)]),e("div",null,[e("h4",Sn,l(s.value.agent.name),1),e("p",Mn,[w(l(s.value.agent.title||C(H)(s.value.agent.type))+" ",1),e("span",Pn,l(s.value.agent.config.aiProvider==="claude"?"üß† Claude":"ü§ñ OpenAI"),1)])])])],4),e("div",jn,[e("div",Bn,[(u(!0),d(R,null,L(j.value,n=>(u(),d("div",{key:n.id,class:v(["flex items-start space-x-2",n.role==="user"?"flex-row-reverse space-x-reverse":""])},[e("div",{class:v(["w-6 lg:w-8 h-6 lg:h-8 rounded-full flex items-center justify-center text-xs font-medium flex-shrink-0",n.role==="user"?"bg-gray-500 text-white":"text-white"]),style:Y(n.role==="assistant"?{backgroundColor:s.value.widget.primaryColor}:{})},l(n.role==="user"?"V":s.value.agent.name.charAt(0)),7),e("div",{class:v(["max-w-xs p-2 lg:p-3 rounded-lg text-xs lg:text-sm",n.role==="user"?"bg-gray-500 text-white rounded-tr-sm":"bg-white border border-gray-200 rounded-tl-sm"])},[n.loading?(u(),d("div",zn,[(u(),d("svg",{class:v(["animate-spin h-3 w-3 mr-2",n.role==="user"?"text-white":"text-blue-600"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[130]||(t[130]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]),2)),e("span",$n,l(ge.value)+" est en train d'√©crire...",1)])):(u(),d("div",Dn,[n.role==="assistant"?(u(),d("div",{key:0,class:"message-formatted leading-relaxed",innerHTML:He(n.content)},null,8,Un)):(u(),d("div",Vn,l(n.content),1)),n.role==="assistant"&&n.provider?(u(),d("div",Rn,l(n.provider==="claude"?"üß†":"ü§ñ")+" "+l(n.responseTime)+"ms ",1)):h("",!0)]))],2)],2))),128))])],512),e("div",Ln,[e("div",On,[b(e("input",{"onUpdate:modelValue":t[34]||(t[34]=n=>U.value=n),onKeyup:mt(Ie,["enter"]),type:"text",placeholder:"Tapez votre message de test...",class:"flex-1 px-2 lg:px-3 py-1 lg:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-xs lg:text-sm",disabled:N.value},null,40,Nn),[[W,U.value]]),e("button",{onClick:Ie,disabled:!U.value.trim()||N.value,class:"px-3 lg:px-4 py-1 lg:py-2 text-white rounded-lg hover:opacity-90 transition-colors disabled:opacity-50 text-xs lg:text-sm",style:Y({backgroundColor:s.value.widget.primaryColor})},[N.value?(u(),d("svg",Wn,t[132]||(t[132]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))):(u(),d("svg",qn,t[131]||(t[131]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"},null,-1)])))],12,Fn)])])]),e("div",Hn,[e("div",Kn,[t[137]||(t[137]=e("h3",{class:"text-base lg:text-lg font-semibold text-gray-900 mb-4"},"ü§ñ Status IA",-1)),e("div",Gn,[e("div",Jn,[t[133]||(t[133]=e("span",null,"Provider:",-1)),e("span",Yn,l(s.value.agent.config.aiProvider==="claude"?"üß† Claude Sonnet":"ü§ñ OpenAI GPT-4o-mini"),1)]),e("div",Qn,[t[134]||(t[134]=e("span",null,"Temp√©rature:",-1)),e("span",Xn,l(s.value.agent.config.temperature||.7),1)]),e("div",Zn,[t[135]||(t[135]=e("span",null,"Max Tokens:",-1)),e("span",ea,l(s.value.agent.config.maxTokens||1e3),1)]),e("div",ta,[t[136]||(t[136]=e("span",null,"Base KB:",-1)),e("span",sa,l(te.value.length)+" docs li√©s",1)])])]),e("div",oa,[t[138]||(t[138]=e("h3",{class:"text-base lg:text-lg font-semibold text-gray-900 mb-4"},"üéØ Sc√©narios de Test",-1)),e("div",na,[(u(),d(R,null,L(Fe,n=>e("button",{key:n.id,onClick:k=>lt(n),class:"w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-sm",disabled:N.value},[e("div",la,l(n.title),1),e("div",ra,l(n.description),1)],8,aa)),64))])]),e("div",ia,[t[142]||(t[142]=e("h3",{class:"text-base lg:text-lg font-semibold text-gray-900 mb-4"},"üìä Performance Test",-1)),e("div",da,[e("div",ua,[t[139]||(t[139]=e("span",null,"Messages envoy√©s:",-1)),e("span",ca,l(j.value.filter(n=>n.role==="user").length),1)]),e("div",ga,[t[140]||(t[140]=e("span",null,"R√©ponses IA:",-1)),e("span",pa,l(j.value.filter(n=>n.role==="assistant"&&!n.loading).length),1)]),e("div",ma,[t[141]||(t[141]=e("span",null,"Temps moyen:",-1)),e("span",va,l(Oe.value)+"ms",1)])]),e("div",{class:"mt-4"},[e("button",{onClick:Se,class:"w-full px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors text-sm lg:text-base"}," üîÑ R√©initialiser ")])])])])):h("",!0),T.value==="integration"?(u(),d("div",fa,[e("div",ba,[t[159]||(t[159]=e("h3",{class:"text-xl lg:text-2xl font-semibold text-gray-900 mb-4 lg:mb-6"},"üîó Guide d'Int√©gration",-1)),e("div",xa,[e("div",ya,[t[147]||(t[147]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),e("div",ha,[t[146]||(t[146]=e("h3",{class:"text-sm font-medium text-blue-800"},"Instructions d'installation",-1)),e("div",wa,[e("p",null,[t[143]||(t[143]=w("Vendeur IA: ",-1)),e("strong",null,l(s.value.agent.name),1),t[144]||(t[144]=w(" ‚Ä¢ Widget: ",-1)),e("strong",null,l(s.value.widget.buttonText),1)]),t[145]||(t[145]=e("p",null,[w("Copiez le code ci-dessous et collez-le juste avant la balise "),e("code",null,"</body>"),w(" de votre site web.")],-1))])])])]),e("div",ka,[e("div",Ca,[t[149]||(t[149]=e("h4",{class:"text-base lg:text-lg font-medium text-gray-900 mb-3"},"1. Code d'int√©gration JavaScript",-1)),e("div",Aa,[e("div",Ta,[e("pre",_a,[e("code",null,l(C(Q)),1)])]),e("button",{onClick:it,class:"absolute top-3 lg:top-4 right-3 lg:right-4 inline-flex items-center px-2 lg:px-3 py-1 border border-gray-600 text-xs font-medium rounded text-gray-300 bg-gray-800 hover:bg-gray-700 transition-colors"},[t[148]||(t[148]=e("svg",{class:"w-3 lg:w-4 h-3 lg:h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)),w(" "+l(r.value?"Copi√© !":"Copier"),1)])])]),e("div",Ea,[t[154]||(t[154]=e("h4",{class:"text-base lg:text-lg font-medium text-gray-900 mb-3"},"2. Instructions par plateforme",-1)),e("div",Ia,[(u(),d(R,null,L(Ne,n=>e("button",{key:n.id,onClick:k=>Z.value=n.id,class:v(["px-2 lg:px-3 py-2 text-xs lg:text-sm font-medium rounded-md transition-colors whitespace-nowrap",Z.value===n.id?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"])},l(n.icon)+" "+l(n.name),11,Sa)),64))]),e("div",Ma,[Z.value==="shopify"?(u(),d("div",Pa,t[150]||(t[150]=[e("h5",{class:"font-medium text-gray-900 mb-2"},"üü¢ Shopify",-1),e("ol",{class:"text-sm text-gray-700 space-y-1 list-decimal list-inside"},[e("li",null,"Allez dans votre admin Shopify"),e("li",null,"Th√®me ‚Üí Actions ‚Üí Modifier le code"),e("li",null,[w("Ouvrez le fichier "),e("code",null,"theme.liquid")]),e("li",null,[w("Collez le code juste avant "),e("code",null,"</body>")]),e("li",null,"Sauvegardez et testez")],-1)]))):Z.value==="wordpress"?(u(),d("div",ja,t[151]||(t[151]=[e("h5",{class:"font-medium text-gray-900 mb-2"},"üîµ WordPress",-1),e("ol",{class:"text-sm text-gray-700 space-y-1 list-decimal list-inside"},[e("li",null,"Allez dans votre admin WordPress"),e("li",null,"Apparence ‚Üí √âditeur de th√®me"),e("li",null,[w("Ouvrez le fichier "),e("code",null,"footer.php")]),e("li",null,[w("Collez le code juste avant "),e("code",null,"</body>")]),e("li",null,"Mettez √† jour le fichier")],-1)]))):Z.value==="woocommerce"?(u(),d("div",Ba,t[152]||(t[152]=[e("h5",{class:"font-medium text-gray-900 mb-2"},"üü† WooCommerce",-1),e("ol",{class:"text-sm text-gray-700 space-y-1 list-decimal list-inside"},[e("li",null,"M√™me processus que WordPress"),e("li",null,'Ou utilisez un plugin comme "Insert Headers and Footers"'),e("li",null,'Collez le code dans la section "Scripts in Footer"'),e("li",null,"Sauvegardez les param√®tres")],-1)]))):(u(),d("div",za,t[153]||(t[153]=[e("h5",{class:"font-medium text-gray-900 mb-2"},"üåê Site personnalis√©",-1),e("ol",{class:"text-sm text-gray-700 space-y-1 list-decimal list-inside"},[e("li",null,"Ouvrez le fichier HTML de votre page"),e("li",null,[w("Collez le code juste avant "),e("code",null,"</body>")]),e("li",null,"R√©p√©tez pour toutes les pages o√π vous voulez le widget"),e("li",null,"Uploadez les fichiers modifi√©s")],-1)])))])]),e("div",$a,[t[157]||(t[157]=e("h4",{class:"text-base lg:text-lg font-medium text-gray-900 mb-3"},"3. Test et validation",-1)),e("div",Da,[t[156]||(t[156]=e("p",null,[e("strong",null,"‚úÖ V√©rifications √† faire:")],-1)),e("ul",Ua,[e("li",null,'Le bouton "'+l(s.value.widget.buttonText)+'" appara√Æt sur votre page',1),t[155]||(t[155]=e("li",null,"Le chat s'ouvre quand vous cliquez sur le bouton",-1)),e("li",null,`L'agent "`+l(s.value.agent.name)+'" r√©pond √† vos messages',1),e("li",null,"La couleur du widget correspond √† "+l(s.value.widget.primaryColor),1),e("li",null,"Les documents de la base de connaissances sont pris en compte ("+l(te.value.length)+" docs)",1)])]),t[158]||(t[158]=e("div",{class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4"},[e("p",{class:"text-sm text-yellow-800"},[w(" üí° "),e("strong",null,"Astuce:"),w(" Utilisez un navigateur en mode incognito pour tester comme un vrai visiteur. ")])],-1))])]),t[160]||(t[160]=e("div",{class:"mt-6 lg:mt-8 p-4 lg:p-6 bg-blue-50 border border-blue-200 rounded-lg"},[e("h4",{class:"font-medium text-blue-900 mb-2"},"üÜò Besoin d'aide ?"),e("p",{class:"text-sm text-blue-800"},[w(" Notre √©quipe peut vous aider avec l'int√©gration. Contactez-nous √† "),e("a",{href:"mailto:support@chatseller.app",class:"underline font-medium"},"support@chatseller.app")])],-1))])])):h("",!0),f.value?(u(),d("div",{key:4,class:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",onClick:vt(we,["self"])},[e("div",Va,[e("div",{class:"p-6 border-b border-gray-200"},[e("div",{class:"flex items-center justify-between"},[t[162]||(t[162]=e("h3",{class:"text-lg font-semibold text-gray-900"},"üìö G√©rer la Base de Connaissances",-1)),e("button",{onClick:we,class:"text-gray-400 hover:text-gray-600"},t[161]||(t[161]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t[163]||(t[163]=e("p",{class:"text-sm text-gray-600 mt-2"}," S√©lectionnez les documents que votre agent doit utiliser pour r√©pondre aux questions. ",-1))]),e("div",Ra,[C(Ee)?(u(),d("div",La,t[164]||(t[164]=[e("svg",{class:"animate-spin h-8 w-8 text-blue-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),e("p",{class:"text-gray-600"},"Chargement des documents...",-1)]))):je.value.length===0?(u(),d("div",Oa,t[165]||(t[165]=[Pe('<svg class="w-12 h-12 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-2aecf8e4><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-2aecf8e4></path></svg><p class="text-gray-600 mb-2" data-v-2aecf8e4>Aucun document disponible</p><p class="text-gray-500 text-sm" data-v-2aecf8e4><a href="/knowledge-base" class="text-blue-600 hover:text-blue-800 underline" data-v-2aecf8e4> Cr√©ez d&#39;abord des documents </a> dans votre base de connaissances </p>',3)]))):(u(),d("div",Na,[(u(!0),d(R,null,L(je.value,n=>(u(),d("div",{key:n.id,class:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50"},[b(e("input",{"onUpdate:modelValue":t[35]||(t[35]=k=>p.value=k),value:n.id,type:"checkbox",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,8,Fa),[[me,p.value]]),e("div",qa,[e("p",Wa,l(n.title),1),e("p",Ha,l(Ue(n.contentType)),1),e("div",Ka,[(u(!0),d(R,null,L(n.tags.slice(0,3),k=>(u(),d("span",{key:k,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800"},l(k),1))),128)),n.tags.length>3?(u(),d("span",Ga,"+"+l(n.tags.length-3),1)):h("",!0)])]),e("span",{class:v(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",n.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},l(n.isActive?"Actif":"Inactif"),3)]))),128))]))]),e("div",Ja,[e("div",Ya,[e("p",Qa,l(p.value.length)+" document(s) s√©lectionn√©(s) ",1),e("div",Xa,[e("button",{onClick:we,class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50"}," Annuler "),e("button",{onClick:at,disabled:c.value,class:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50"},l(c.value?"Sauvegarde...":"Sauvegarder"),9,Za)])])])])])):h("",!0),r.value?(u(),d("div",el,t[166]||(t[166]=[e("div",{class:"flex items-center"},[e("svg",{class:"w-4 lg:w-5 h-4 lg:h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),e("span",{class:"text-sm lg:text-base"},"Code d'int√©gration copi√© !")],-1)]))):h("",!0)])):h("",!0)]))}}),il=wt(tl,[["__scopeId","data-v-2aecf8e4"]]);export{il as default};
