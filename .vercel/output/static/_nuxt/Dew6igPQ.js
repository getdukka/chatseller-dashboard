import{_ as pe}from"./BkTrhf9-.js";import{l as xe,d as l,r as P,m as k,I as be,q as fe,E as i,H as e,M as h,U as n,a0 as c,Q as m,F as ge,P as ye,a2 as x,aa as z,a1 as W,a3 as A,u as Z,O as he,N as we,W as K,G as d}from"./DQgDrh1u.js";import{a as ke,f as _e,b as Ce,u as Ne,n as q}from"./Cm96zG12.js";import{_ as Se}from"./DlAUqK2U.js";import"./DAvq3nrc.js";const je={class:"min-h-screen bg-gray-50"},Me={class:"bg-white shadow-sm border-b border-gray-200"},ze={class:"px-8 py-6"},Ae={class:"flex items-center justify-between"},Ee={class:"flex items-center space-x-4"},Re={class:"flex items-center space-x-2"},De={class:"text-sm text-gray-600"},Ve=["disabled"],Be={class:"p-8"},He={class:"border-b border-gray-200 mb-8"},Ie={class:"-mb-px flex space-x-8"},Pe=["onClick"],qe={class:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Le=["d"],Oe={key:0,class:"flex items-center justify-center py-12"},$e={key:1,class:"max-w-6xl"},Ue={class:"space-y-8"},Te={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Fe={class:"lg:col-span-2"},Ge={class:"card-modern"},Je={class:"flex items-center justify-between mb-6"},Qe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},We=["disabled"],Ze=["disabled"],Ke={key:0,class:"flex items-center space-x-4 pt-4"},Xe=["disabled"],Ye={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},et={class:"space-y-6"},tt={class:"card-modern"},st={class:"flex flex-col items-center space-y-4"},ot={class:"relative"},nt={class:"flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-blue-600 shadow-lg"},at={class:"text-2xl font-bold text-white"},rt={class:"text-center"},lt={class:"font-medium text-gray-900"},it={class:"text-sm text-gray-500"},dt={class:"card-modern"},ut={class:"space-y-4"},ct={class:"flex items-center justify-between"},mt={class:"text-sm font-medium text-gray-900"},vt={class:"flex items-center justify-between"},pt={class:"flex items-center justify-between"},xt={class:"text-sm font-medium text-gray-900"},bt={class:"flex items-center justify-between"},ft={class:"text-sm font-medium text-gray-900"},gt={class:"space-y-8"},yt={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},ht={class:"card-modern"},wt={class:"flex items-center justify-between mb-6"},kt=["disabled"],_t=["disabled"],Ct={class:"flex items-center space-x-2"},Nt=["value"],St={key:0,class:"flex items-center space-x-4 pt-4"},jt=["disabled"],Mt={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},zt={class:"card-modern"},At={class:"space-y-6"},Et={class:"grid grid-cols-2 gap-4"},Rt={class:"text-center p-4 bg-blue-50 rounded-lg"},Dt={class:"text-2xl font-bold text-blue-600"},Vt={class:"text-center p-4 bg-green-50 rounded-lg"},Bt={class:"text-2xl font-bold text-green-600"},Ht={class:"grid grid-cols-2 gap-4"},It={class:"text-center p-4 bg-purple-50 rounded-lg"},Pt={class:"text-2xl font-bold text-purple-600"},qt={class:"text-center p-4 bg-orange-50 rounded-lg"},Lt={class:"text-2xl font-bold text-orange-600"},Ot={class:"border-t pt-6"},$t={class:"space-y-3"},Ut={class:"flex items-center justify-between"},Tt={class:"flex items-center space-x-2"},Ft={class:"flex items-center justify-between"},Gt={class:"text-sm font-medium text-gray-900"},Jt={class:"flex items-center justify-between"},Qt={class:"text-sm font-medium text-gray-900"},Wt={class:"space-y-8"},Zt={class:"space-y-8"},Kt={class:"max-w-2xl"},Xt={class:"card-modern"},Yt={class:"space-y-6"},es={class:"space-y-4"},ts={class:"flex items-center justify-between"},ss={class:"flex items-center justify-between"},os={class:"flex items-center justify-between"},ns={class:"pt-6 border-t border-gray-100"},as=["disabled"],rs={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},ls={class:"space-y-8"},is={class:"max-w-2xl"},ds={class:"card-modern"},us={class:"space-y-6"},cs={class:"flex items-center justify-between py-4 border-b border-gray-100"},ms=["disabled"],vs={key:0,class:"animate-spin w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24"},ps={key:1,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},xs={class:"pt-6 border-t border-red-100"},bs={class:"p-4 bg-red-50 border border-red-200 rounded-lg"},fs={class:"flex"},gs={class:"ml-3"},ys={class:"mt-4"},hs={key:0,class:"fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300"},ws={class:"flex items-center"},ks={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},_s={class:"bg-white rounded-lg p-6 max-w-md mx-4"},Cs={class:"flex space-x-4"},Ns=xe({__name:"settings",setup(Ss){const a=ke(),V=_e(),_=Ce(),L=l(!0),E=l(!1),C=l(!1),N=l(!1),S=l(!1),j=l(!1),b=l(!1),f=l(!1),B=l(!1),R=l(!1),O=l(""),X=l("Connecté"),H=[{id:"profil",label:"Profil",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},{id:"boutique",label:"Boutique",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},{id:"securite",label:"Sécurité",icon:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},{id:"notifications",label:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"},{id:"donnees",label:"Données",icon:"M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"}],g=l("profil"),o=P({firstName:"",lastName:"",email:""}),v=P({name:"",domain:""}),u=P({emailConversations:!0,emailOrders:!0,emailReports:!1}),w=l(null),p=l({totalConversations:0,totalOrders:0,totalRevenue:0,conversionRate:0,activeAgents:0,documentsCount:0}),Y=k(()=>o.firstName&&o.lastName?`${o.firstName} ${o.lastName}`:a.userName||a.userEmail?.split("@")[0]||"Utilisateur"),ee=k(()=>o.firstName&&o.lastName?`${o.firstName[0]}${o.lastName[0]}`.toUpperCase():a.userInitials),$=k(()=>a.user?.createdAt?new Date(a.user.createdAt).toLocaleDateString("fr-FR",{year:"numeric",month:"long"}):"N/A"),U=k(()=>{switch(a.currentPlan){case"free":return"Essai Gratuit";case"starter":return"Starter";case"pro":case"professional":return"Pro";case"enterprise":return"Enterprise";default:return"Aucun plan"}}),T=k(()=>{switch(a.currentPlan){case"free":return"bg-gray-100 text-gray-800";case"starter":return"bg-blue-100 text-blue-800";case"pro":case"professional":return"bg-purple-100 text-purple-800";case"enterprise":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}}),D=k(()=>{switch(a.currentPlan){case"free":return{agents:1,documents:10};case"starter":return{agents:1,documents:10};case"pro":case"professional":return{agents:3,documents:50};case"enterprise":return{agents:-1,documents:-1};default:return{agents:0,documents:0}}}),te=s=>{g.value=s,q({query:{...V.query,tab:s}},{replace:!0})},y=s=>{O.value=s,B.value=!0,setTimeout(()=>{B.value=!1},3e3)},se=s=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(s),F=async()=>{try{const s=a.userShopId;if(!s)return;console.log("📊 Chargement données shop:",s);const t=await _.shops.get(s);t.success&&t.data&&(w.value=t.data,v.name=t.data.name||"",v.domain=t.data.domain||"",console.log("✅ Données shop chargées:",t.data))}catch(s){console.error("❌ Erreur chargement shop:",s)}},G=async()=>{try{console.log("📊 Chargement statistiques compte...");const s=await _.analytics.dashboard();s.success&&s.data&&(p.value={totalConversations:s.data.totalConversations||0,totalOrders:s.data.totalOrders||0,totalRevenue:s.data.totalRevenue||0,conversionRate:s.data.conversionRate||0,activeAgents:s.data.activeAgents||0,documentsCount:s.data.documentsCount||0},console.log("✅ Statistiques chargées:",p.value))}catch(s){console.error("❌ Erreur chargement statistiques:",s)}},oe=async()=>{E.value=!0;try{await Promise.all([F(),G()]),y("Données actualisées avec succès !")}catch(s){console.error("❌ Erreur actualisation:",s)}finally{E.value=!1}},ne=async()=>{C.value=!0;try{const s=await a.updateProfile({firstName:o.firstName,lastName:o.lastName,name:`${o.firstName} ${o.lastName}`.trim()});s.success?(b.value=!1,y("Profil mis à jour avec succès !")):console.error("❌ Erreur mise à jour profil:",s.error)}catch(s){console.error("❌ Erreur:",s)}finally{C.value=!1}},ae=()=>{b.value=!1,o.firstName=a.user?.firstName||"",o.lastName=a.user?.lastName||"",o.email=a.userEmail||""},re=async()=>{N.value=!0;try{const s=a.userShopId;if(!s)throw new Error("Shop ID manquant");const t=await _.shops.update(s,{name:v.name,domain:v.domain||null});t.success?(f.value=!1,w.value=t.data,y("Boutique mise à jour avec succès !")):console.error("❌ Erreur mise à jour shop:",t.error)}catch(s){console.error("❌ Erreur:",s)}finally{N.value=!1}},le=()=>{f.value=!1,v.name=w.value?.name||"",v.domain=w.value?.domain||""},ie=async()=>{try{const s=w.value?.id||a.userShopId;await navigator.clipboard.writeText(s||""),y("ID copié dans le presse-papiers !")}catch(s){console.error("❌ Erreur copie:",s)}},de=()=>{q("/reset-password?mode=change")},ue=()=>{y("Fonctionnalité des sessions actives bientôt disponible")},ce=async()=>{j.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),y("Préférences de notifications sauvegardées !")}catch(s){console.error("❌ Erreur sauvegarde notifications:",s)}finally{j.value=!1}},me=async()=>{S.value=!0;try{console.log("📥 Export des données utilisateur...");const[s,t]=await Promise.all([_.shops.get(a.userShopId||"").catch(()=>({success:!1,data:null})),_.analytics.dashboard().catch(()=>({success:!1,data:null}))]),I={profile:{firstName:o.firstName,lastName:o.lastName,email:o.email,shopId:a.userShopId,memberSince:$.value,plan:a.currentPlan},shop:s.success?s.data:null,statistics:t.success?t.data:null,settings:{notifications:u},metadata:{exportedAt:new Date().toISOString(),version:"1.0"}},r=JSON.stringify(I,null,2),J=new Blob([r],{type:"application/json"}),Q=window.URL.createObjectURL(J),M=document.createElement("a");M.href=Q,M.download=`chatseller-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(Q),y("Données exportées avec succès !")}catch(s){console.error("❌ Erreur export:",s)}finally{S.value=!1}},ve=async()=>{try{console.log("⚠️ Suppression de compte demandée"),R.value=!1,await a.logout(),q("/login")}catch(s){console.error("❌ Erreur suppression compte:",s)}};return be(async()=>{try{o.firstName=a.user?.firstName||"",o.lastName=a.user?.lastName||"",o.email=a.userEmail||"",await Promise.all([F(),G()]);const s=V.query.tab;s&&H.some(t=>t.id===s)&&(g.value=s)}catch(s){console.error("❌ Erreur initialisation:",s)}finally{L.value=!1}}),fe(()=>V.query.tab,s=>{s&&typeof s=="string"&&H.some(t=>t.id===s)&&(g.value=s)},{immediate:!0}),Ne({title:"Paramètres - ChatSeller Dashboard"}),(s,t)=>{const I=pe;return d(),i("div",je,[e("div",Me,[e("div",ze,[e("div",Ae,[t[15]||(t[15]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Paramètres du compte"),e("p",{class:"mt-2 text-gray-600"}," Gérez votre profil, votre boutique et vos préférences ")],-1)),e("div",Ee,[e("div",Re,[t[12]||(t[12]=e("div",{class:"w-2 h-2 bg-green-500 rounded-full"},null,-1)),e("span",De,n(X.value),1)]),e("button",{onClick:oe,disabled:E.value,class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 transition-colors"},[(d(),i("svg",{class:m(["w-4 h-4 mr-2",{"animate-spin":E.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[13]||(t[13]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]),2)),t[14]||(t[14]=c(" Actualiser ",-1))],8,Ve)])])])]),e("div",Be,[e("div",He,[e("nav",Ie,[(d(),i(ge,null,ye(H,r=>e("button",{key:r.id,onClick:J=>te(r.id),class:m(["py-3 px-1 border-b-2 font-medium text-sm transition-colors",g.value===r.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[(d(),i("svg",qe,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:r.icon},null,8,Le)])),c(" "+n(r.label),1)],10,Pe)),64))])]),L.value?(d(),i("div",Oe,t[16]||(t[16]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):(d(),i("div",$e,[x(e("div",Ue,[e("div",Te,[e("div",Fe,[e("div",Ge,[e("div",Je,[t[18]||(t[18]=e("h2",{class:"text-xl font-semibold text-gray-900"},"Informations personnelles",-1)),e("button",{onClick:t[0]||(t[0]=r=>b.value=!b.value),class:m(["inline-flex items-center px-4 py-2 text-sm font-medium rounded-xl transition-all duration-200",b.value?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-50 text-blue-700 hover:bg-blue-100"])},[t[17]||(t[17]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),c(" "+n(b.value?"Annuler":"Modifier"),1)],2)]),e("form",{onSubmit:W(ne,["prevent"]),class:"space-y-6"},[e("div",Qe,[e("div",null,[t[19]||(t[19]=e("label",{for:"firstName",class:"block text-sm font-medium text-gray-700 mb-2"}," Prénom ",-1)),x(e("input",{id:"firstName","onUpdate:modelValue":t[1]||(t[1]=r=>o.firstName=r),type:"text",disabled:!b.value,class:"input-modern w-full disabled:bg-gray-50 disabled:text-gray-500",placeholder:"Votre prénom"},null,8,We),[[A,o.firstName]])]),e("div",null,[t[20]||(t[20]=e("label",{for:"lastName",class:"block text-sm font-medium text-gray-700 mb-2"}," Nom ",-1)),x(e("input",{id:"lastName","onUpdate:modelValue":t[2]||(t[2]=r=>o.lastName=r),type:"text",disabled:!b.value,class:"input-modern w-full disabled:bg-gray-50 disabled:text-gray-500",placeholder:"Votre nom"},null,8,Ze),[[A,o.lastName]])])]),e("div",null,[t[21]||(t[21]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," Adresse email ",-1)),x(e("input",{id:"email","onUpdate:modelValue":t[3]||(t[3]=r=>o.email=r),type:"email",disabled:"",class:"input-modern w-full bg-gray-50 text-gray-500",placeholder:"votre@email.com"},null,512),[[A,o.email]]),t[22]||(t[22]=e("p",{class:"text-xs text-gray-500 mt-1"},"L'email ne peut pas être modifié",-1))]),b.value?(d(),i("div",Ke,[e("button",{type:"submit",disabled:C.value,class:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},[C.value?(d(),i("svg",Ye,t[23]||(t[23]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):h("",!0),c(" "+n(C.value?"Mise à jour...":"Sauvegarder"),1)],8,Xe),e("button",{type:"button",onClick:ae,class:"inline-flex items-center px-6 py-3 bg-white text-gray-700 font-medium rounded-xl border border-gray-200 hover:bg-gray-50 transition-all duration-200"}," Annuler ")])):h("",!0)],32)])]),e("div",et,[e("div",tt,[t[24]||(t[24]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Photo de profil",-1)),e("div",st,[e("div",ot,[e("div",nt,[e("span",at,n(ee.value),1)])]),e("div",rt,[e("h4",lt,n(Y.value),1),e("p",it,n(Z(a).userEmail),1)])])]),e("div",dt,[t[29]||(t[29]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Activité du compte",-1)),e("div",ut,[e("div",ct,[t[25]||(t[25]=e("span",{class:"text-sm text-gray-600"},"Membre depuis",-1)),e("span",mt,n($.value),1)]),e("div",vt,[t[26]||(t[26]=e("span",{class:"text-sm text-gray-600"},"Plan actuel",-1)),e("span",{class:m(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",T.value])},n(U.value),3)]),e("div",pt,[t[27]||(t[27]=e("span",{class:"text-sm text-gray-600"},"Conversations",-1)),e("span",xt,n(p.value.totalConversations||0),1)]),e("div",bt,[t[28]||(t[28]=e("span",{class:"text-sm text-gray-600"},"Agents actifs",-1)),e("span",ft,n(p.value.activeAgents||0),1)])])])])])],512),[[z,g.value==="profil"]]),x(e("div",gt,[e("div",yt,[e("div",ht,[e("div",wt,[t[31]||(t[31]=e("h2",{class:"text-xl font-semibold text-gray-900"},"Informations de la boutique",-1)),e("button",{onClick:t[4]||(t[4]=r=>f.value=!f.value),class:m(["inline-flex items-center px-4 py-2 text-sm font-medium rounded-xl transition-all duration-200",f.value?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-50 text-blue-700 hover:bg-blue-100"])},[t[30]||(t[30]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),c(" "+n(f.value?"Annuler":"Modifier"),1)],2)]),e("form",{onSubmit:W(re,["prevent"]),class:"space-y-6"},[e("div",null,[t[32]||(t[32]=e("label",{for:"shopName",class:"block text-sm font-medium text-gray-700 mb-2"}," Nom de la boutique ",-1)),x(e("input",{id:"shopName","onUpdate:modelValue":t[5]||(t[5]=r=>v.name=r),type:"text",disabled:!f.value,class:"input-modern w-full disabled:bg-gray-50 disabled:text-gray-500",placeholder:"Nom de votre boutique"},null,8,kt),[[A,v.name]])]),e("div",null,[t[33]||(t[33]=e("label",{for:"shopDomain",class:"block text-sm font-medium text-gray-700 mb-2"}," Domaine (optionnel) ",-1)),x(e("input",{id:"shopDomain","onUpdate:modelValue":t[6]||(t[6]=r=>v.domain=r),type:"url",disabled:!f.value,class:"input-modern w-full disabled:bg-gray-50 disabled:text-gray-500",placeholder:"https://votreboutique.com"},null,8,_t),[[A,v.domain]]),t[34]||(t[34]=e("p",{class:"text-xs text-gray-500 mt-1"},"URL de votre site e-commerce",-1))]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"ID de la boutique",-1)),e("div",Ct,[e("input",{value:w.value?.id||Z(a).userShopId,readonly:"",class:"flex-1 input-modern bg-gray-50 text-gray-500 text-sm font-mono"},null,8,Nt),e("button",{onClick:ie,type:"button",class:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-blue-50 text-blue-600 hover:bg-blue-100 transition-all duration-200",title:"Copier l'ID"},t[35]||(t[35]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)]))])]),f.value?(d(),i("div",St,[e("button",{type:"submit",disabled:N.value,class:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-all duration-200"},[N.value?(d(),i("svg",Mt,t[37]||(t[37]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):h("",!0),c(" "+n(N.value?"Mise à jour...":"Sauvegarder"),1)],8,jt),e("button",{type:"button",onClick:le,class:"inline-flex items-center px-6 py-3 bg-white text-gray-700 font-medium rounded-xl border border-gray-200 hover:bg-gray-50 transition-all duration-200"}," Annuler ")])):h("",!0)],32)]),e("div",zt,[t[47]||(t[47]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Statistiques de la boutique",-1)),e("div",At,[e("div",Et,[e("div",Rt,[e("div",Dt,n(p.value.totalConversations||0),1),t[38]||(t[38]=e("div",{class:"text-sm text-blue-600"},"Conversations",-1))]),e("div",Vt,[e("div",Bt,n(p.value.totalOrders||0),1),t[39]||(t[39]=e("div",{class:"text-sm text-green-600"},"Commandes",-1))])]),e("div",Ht,[e("div",It,[e("div",Pt,n(se(p.value.totalRevenue||0)),1),t[40]||(t[40]=e("div",{class:"text-sm text-purple-600"},"Revenus",-1))]),e("div",qt,[e("div",Lt,n(p.value.conversionRate||0)+"%",1),t[41]||(t[41]=e("div",{class:"text-sm text-orange-600"},"Conversion",-1))])]),e("div",Ot,[t[46]||(t[46]=e("h3",{class:"font-medium text-gray-900 mb-3"},"Plan et utilisation",-1)),e("div",$t,[e("div",Ut,[t[43]||(t[43]=e("span",{class:"text-sm text-gray-600"},"Plan actuel",-1)),e("div",Tt,[e("span",{class:m(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",T.value])},n(U.value),3),he(I,{to:"/billing",class:"text-xs text-blue-600 hover:text-blue-700 font-medium"},{default:we(()=>t[42]||(t[42]=[c(" Gérer ",-1)])),_:1,__:[42]})])]),e("div",Ft,[t[44]||(t[44]=e("span",{class:"text-sm text-gray-600"},"Agents utilisés",-1)),e("span",Gt,n(p.value.activeAgents||0)+" / "+n(D.value.agents===-1?"∞":D.value.agents),1)]),e("div",Jt,[t[45]||(t[45]=e("span",{class:"text-sm text-gray-600"},"Documents",-1)),e("span",Qt,n(p.value.documentsCount||0)+" / "+n(D.value.documents===-1?"∞":D.value.documents),1)])])])])])])],512),[[z,g.value==="boutique"]]),x(e("div",Wt,[e("div",{class:"max-w-2xl"},[e("div",{class:"card-modern"},[t[53]||(t[53]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Sécurité du compte",-1)),e("div",{class:"space-y-6"},[e("div",{class:"flex items-center justify-between py-4 border-b border-gray-100"},[t[49]||(t[49]=e("div",null,[e("h3",{class:"text-sm font-medium text-gray-900"},"Mot de passe"),e("p",{class:"text-sm text-gray-500"},"Modifiez votre mot de passe pour sécuriser votre compte")],-1)),e("button",{onClick:de,class:"inline-flex items-center px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-xl hover:bg-blue-100 transition-all duration-200"},t[48]||(t[48]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-3a1 1 0 011-1h2.586l6.414-6.414a6 6 0 018-8z"})],-1),c(" Modifier ",-1)]))]),t[52]||(t[52]=K('<div class="flex items-center justify-between py-4 border-b border-gray-100" data-v-21b15eab><div data-v-21b15eab><h3 class="text-sm font-medium text-gray-900" data-v-21b15eab>Authentification à deux facteurs</h3><p class="text-sm text-gray-500" data-v-21b15eab>Ajoutez une couche de sécurité supplémentaire</p></div><button class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-400 bg-gray-50 rounded-xl cursor-not-allowed" disabled data-v-21b15eab><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21b15eab><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-21b15eab></path></svg> Bientôt disponible </button></div>',1)),e("div",{class:"flex items-center justify-between py-4"},[t[51]||(t[51]=e("div",null,[e("h3",{class:"text-sm font-medium text-gray-900"},"Sessions actives"),e("p",{class:"text-sm text-gray-500"},"Gérez les appareils connectés à votre compte")],-1)),e("button",{onClick:ue,class:"inline-flex items-center px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-xl hover:bg-blue-100 transition-all duration-200"},t[50]||(t[50]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})],-1),c(" Voir les sessions ",-1)]))])])])])],512),[[z,g.value==="securite"]]),x(e("div",Zt,[e("div",Kt,[e("div",Xt,[t[59]||(t[59]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Préférences de notifications",-1)),e("div",Yt,[e("div",null,[t[57]||(t[57]=e("h3",{class:"text-sm font-medium text-gray-900 mb-4"},"Notifications par email",-1)),e("div",es,[e("div",ts,[t[54]||(t[54]=e("div",null,[e("p",{class:"text-sm font-medium text-gray-700"},"Nouvelles conversations"),e("p",{class:"text-xs text-gray-500"},"Recevez un email quand un visiteur démarre une conversation")],-1)),e("button",{onClick:t[7]||(t[7]=r=>u.emailConversations=!u.emailConversations),class:m(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",u.emailConversations?"bg-blue-600":"bg-gray-200"])},[e("span",{class:m(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",u.emailConversations?"translate-x-5":"translate-x-0"])},null,2)],2)]),e("div",ss,[t[55]||(t[55]=e("div",null,[e("p",{class:"text-sm font-medium text-gray-700"},"Nouvelles commandes"),e("p",{class:"text-xs text-gray-500"},"Recevez un email pour chaque nouvelle commande")],-1)),e("button",{onClick:t[8]||(t[8]=r=>u.emailOrders=!u.emailOrders),class:m(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",u.emailOrders?"bg-blue-600":"bg-gray-200"])},[e("span",{class:m(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",u.emailOrders?"translate-x-5":"translate-x-0"])},null,2)],2)]),e("div",os,[t[56]||(t[56]=e("div",null,[e("p",{class:"text-sm font-medium text-gray-700"},"Rapports hebdomadaires"),e("p",{class:"text-xs text-gray-500"},"Résumé des performances de vos agents IA")],-1)),e("button",{onClick:t[9]||(t[9]=r=>u.emailReports=!u.emailReports),class:m(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",u.emailReports?"bg-blue-600":"bg-gray-200"])},[e("span",{class:m(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",u.emailReports?"translate-x-5":"translate-x-0"])},null,2)],2)])])]),e("div",ns,[e("button",{onClick:ce,disabled:j.value,class:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-all duration-200"},[j.value?(d(),i("svg",rs,t[58]||(t[58]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):h("",!0),c(" "+n(j.value?"Sauvegarde...":"Sauvegarder les préférences"),1)],8,as)])])])])],512),[[z,g.value==="notifications"]]),x(e("div",ls,[e("div",is,[e("div",ds,[t[68]||(t[68]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Gestion des données",-1)),e("div",us,[t[67]||(t[67]=K('<div class="p-4 bg-blue-50 border border-blue-200 rounded-lg" data-v-21b15eab><div class="flex" data-v-21b15eab><div class="flex-shrink-0" data-v-21b15eab><svg class="h-5 w-5 text-blue-400" fill="currentColor" viewBox="0 0 20 20" data-v-21b15eab><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" data-v-21b15eab></path></svg></div><div class="ml-3" data-v-21b15eab><h3 class="text-sm font-medium text-blue-800" data-v-21b15eab>Exportation des données</h3><div class="mt-2 text-sm text-blue-700" data-v-21b15eab><p data-v-21b15eab>Téléchargez toutes vos données en format JSON. Inclut votre profil, conversations, commandes et paramètres.</p></div></div></div></div>',1)),e("div",cs,[t[62]||(t[62]=e("div",null,[e("h3",{class:"text-sm font-medium text-gray-900"},"Exporter mes données"),e("p",{class:"text-sm text-gray-500"},"Obtenez une copie complète de vos données")],-1)),e("button",{onClick:me,disabled:S.value,class:"inline-flex items-center px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-xl hover:bg-blue-100 disabled:opacity-50 transition-all duration-200"},[S.value?(d(),i("svg",vs,t[60]||(t[60]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(d(),i("svg",ps,t[61]||(t[61]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"},null,-1)]))),c(" "+n(S.value?"Export en cours...":"Télécharger mes données"),1)],8,ms)]),e("div",xs,[e("div",bs,[e("div",fs,[t[66]||(t[66]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),e("div",gs,[t[64]||(t[64]=e("h3",{class:"text-sm font-medium text-red-800"},"Zone dangereuse",-1)),t[65]||(t[65]=e("div",{class:"mt-2 text-sm text-red-700"},[e("p",null,"La suppression de votre compte est irréversible. Toutes vos données seront définitivement effacées.")],-1)),e("div",ys,[e("button",{onClick:t[10]||(t[10]=r=>R.value=!0),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-red-600 bg-red-100 rounded-xl hover:bg-red-200 transition-all duration-200"},t[63]||(t[63]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),c(" Supprimer mon compte ",-1)]))])])])])])])])])],512),[[z,g.value==="donnees"]])]))]),B.value?(d(),i("div",hs,[e("div",ws,[t[69]||(t[69]=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),c(" "+n(O.value),1)])])):h("",!0),R.value?(d(),i("div",ks,[e("div",_s,[t[70]||(t[70]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Confirmer la suppression",-1)),t[71]||(t[71]=e("p",{class:"text-sm text-gray-600 mb-6"}," Êtes-vous sûr de vouloir supprimer votre compte ? Cette action est irréversible et toutes vos données seront définitivement effacées. ",-1)),e("div",Cs,[e("button",{onClick:t[11]||(t[11]=r=>R.value=!1),class:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"}," Annuler "),e("button",{onClick:ve,class:"flex-1 px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors"}," Supprimer définitivement ")])])])):h("",!0)])}}}),Rs=Se(Ns,[["__scopeId","data-v-21b15eab"]]);export{Rs as default};
