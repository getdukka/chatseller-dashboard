import{_ as k}from"./BGAeSPyx.js";import{l as C,d as m,q as z,E as n,H as e,O as y,N as b,M as u,u as s,a0 as v,U as f,a1 as M,a2 as V,a3 as j,Q as B,W as N,G as d}from"./Dp9Ai0YM.js";import{u as R}from"./8H7CCVh-.js";import{s as E}from"./x_rD_Ya3.js";import{u as S}from"./BIGBsnYa.js";import"./bq2zsT37.js";const q={class:"min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-gray-50"},A={class:"sm:mx-auto sm:w-full sm:max-w-md"},H={class:"flex justify-center"},U={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},L={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},D={key:0,class:"mb-6"},I={class:"rounded-md bg-green-50 p-4"},P={class:"flex"},T={class:"ml-3"},G={class:"mt-2 text-sm text-green-700"},O={class:"mt-1 relative"},Q=["disabled"],W={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3"},$={key:0,class:"mt-2 text-sm text-red-600"},F=["disabled"],J={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},K={class:"mt-6"},X={class:"mt-6"},Y={key:2,class:"mt-6 text-center"},Z=["disabled"],ae=C({__name:"reset-password",setup(ee){const g=R(),o=m(!1),l=m(""),c=m(!1),r=m(0),i=m({email:""}),x=async()=>{if(!i.value.email){l.value="Veuillez saisir votre adresse email";return}o.value=!0,l.value="";try{const a=await g.resetPassword(i.value.email);a.success?(c.value=!0,h()):l.value=a.error||"Une erreur est survenue lors de l'envoi de l'email"}catch(a){l.value=a.message||"Une erreur est survenue"}finally{o.value=!1}},w=async()=>{r.value>0||await x()},h=()=>{r.value=60;const a=E(()=>{r.value--,r.value<=0&&clearInterval(a)},1e3)};return z(()=>i.value.email,()=>{l.value&&(l.value="")}),S({title:"Réinitialiser le mot de passe - ChatSeller",meta:[{name:"description",content:"Réinitialisez votre mot de passe ChatSeller en quelques clics."}]}),(a,t)=>{const p=k;return d(),n("div",q,[e("div",A,[e("div",H,[y(p,{to:"/",class:"flex items-center"},{default:b(()=>[...t[1]||(t[1]=[e("div",{class:"flex items-center justify-center w-12 h-12 bg-blue-600 rounded-lg"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1),e("span",{class:"ml-3 text-xl font-bold text-gray-900"},"ChatSeller",-1)])]),_:1})]),t[2]||(t[2]=e("h2",{class:"mt-6 text-center text-3xl font-bold text-gray-900"}," Réinitialiser votre mot de passe ",-1)),t[3]||(t[3]=e("p",{class:"mt-2 text-center text-sm text-gray-600"}," Entrez votre adresse email et nous vous enverrons un lien pour réinitialiser votre mot de passe. ",-1))]),e("div",U,[e("div",L,[s(c)?(d(),n("div",D,[e("div",I,[e("div",P,[t[7]||(t[7]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),e("div",T,[t[6]||(t[6]=e("h3",{class:"text-sm font-medium text-green-800"}," Email envoyé ! ",-1)),e("div",G,[e("p",null,[t[4]||(t[4]=v(" Nous avons envoyé un lien de réinitialisation à ",-1)),e("strong",null,f(s(i).email),1),t[5]||(t[5]=v(". Vérifiez votre boîte de réception et suivez les instructions. ",-1))])])])])])])):u("",!0),s(c)?u("",!0):(d(),n("form",{key:1,onSubmit:M(x,["prevent"]),class:"space-y-6"},[e("div",null,[t[9]||(t[9]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Adresse email ",-1)),e("div",O,[V(e("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=_=>s(i).email=_),type:"email",autocomplete:"email",required:"",disabled:s(o),class:B(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:text-gray-500",{"border-red-300":s(l)}]),placeholder:"votre@email.com"},null,10,Q),[[j,s(i).email]]),s(o)?(d(),n("div",W,[...t[8]||(t[8]=[e("svg",{class:"animate-spin h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):u("",!0)]),s(l)?(d(),n("p",$,f(s(l)),1)):u("",!0)]),e("div",null,[e("button",{type:"submit",disabled:s(o)||!s(i).email,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[s(o)?(d(),n("span",J,[...t[10]||(t[10]=[e("svg",{class:"animate-spin h-5 w-5 text-blue-300",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):u("",!0),v(" "+f(s(o)?"Envoi en cours...":"Envoyer le lien de réinitialisation"),1)],8,F)])],32)),e("div",K,[t[12]||(t[12]=N('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-white text-gray-500">ou</span></div></div>',1)),e("div",X,[y(p,{to:"/login",class:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:b(()=>[...t[11]||(t[11]=[e("svg",{class:"w-5 h-5 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),v(" Retour à la connexion ",-1)])]),_:1})])]),s(c)?(d(),n("div",Y,[t[13]||(t[13]=e("p",{class:"text-sm text-gray-600"}," Vous n'avez pas reçu l'email ? ",-1)),e("button",{onClick:w,disabled:s(r)>0,class:"mt-2 text-sm font-medium text-blue-600 hover:text-blue-500 disabled:text-gray-400 disabled:cursor-not-allowed"},f(s(r)>0?`Renvoyer dans ${s(r)}s`:"Renvoyer l'email"),9,Z)])):u("",!0)])])])}}});export{ae as default};
